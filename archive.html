<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tree Explorer - Discover, Map & Protect Our Urban Forest</title>
    <meta name="description" content="Join our community-driven initiative to map, learn about, and protect local trees. Explore our interactive map, contribute new tree data, and help build a greener future.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ³</text></svg>">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nparks-green': '#2E7D32',
                        'nparks-green-light': '#4CAF50',
                        'nparks-green-dark': '#1B5E20',
                        'nparks-brown': '#5D4037',
                        'nparks-brown-light': '#8D6E63',
                        'nparks-beige': '#F5F5DC',
                        'nparks-cream': '#FFF8E1',
                        'nparks-earth': '#8D6E63',
                        'nparks-forest': '#1B5E20',
                        'nparks-sage': '#9E9E9E',
                        'nparks-mint': '#C8E6C9',
                        'nparks-olive': '#689F38'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'display': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale; 
        }
        .playfair { font-family: 'Inter', sans-serif; }
        * { font-family: 'Inter', sans-serif; }
        
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #555; }
        
        /* NParks-inspired gradient backgrounds */
        .hero-gradient {
            background: linear-gradient(135deg, #1B5E20 0%, #2E7D32 25%, #4CAF50 50%, #689F38 75%, #8BC34A 100%);
        }
        
        .feature-gradient {
            background: linear-gradient(135deg, #F5F5DC 0%, #FFF8E1 50%, #C8E6C9 100%);
        }
        
        .earth-gradient {
            background: linear-gradient(135deg, #5D4037 0%, #8D6E63 50%, #A1887F 100%);
        }
        
        /* Animation keyframes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.8s ease-out;
        }
        
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Hover effects */
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        /* NParks-inspired button styles */
        .btn-primary {
            background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #1B5E20 0%, #2E7D32 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(27, 94, 32, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid #5D4037;
            color: #5D4037;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #5D4037;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(93, 64, 55, 0.3);
        }
        
        .btn-earth {
            background: linear-gradient(135deg, #5D4037 0%, #8D6E63 100%);
            color: white;
            transition: all 0.3s ease;
        }
        
        .btn-earth:hover {
            background: linear-gradient(135deg, #3E2723 0%, #5D4037 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(93, 64, 55, 0.4);
        }
    </style>
  <script type="module" crossorigin>(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&c(_)}).observe(document,{childList:!0,subtree:!0});function a(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(d){if(d.ep)return;d.ep=!0;const p=a(d);fetch(d.href,p)}})();const vl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(vl);let Sr=!1,gl=!1;function yl(){Sr=!0}yl();const Go=1,Ko=2,Es=4,bl=8,xl=16,wl=1,kl=2,zt=Symbol(),Ss=!1;var $o=Array.isArray,Pl=Array.prototype.indexOf,ts=Array.from,Ga=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,Tl=Object.getOwnPropertyDescriptors,Ll=Object.prototype,Ml=Array.prototype,Cs=Object.getPrototypeOf,cs=Object.isExtensible;function El(r){return r()}function Ho(r){for(var s=0;s<r.length;s++)r[s]()}function Sl(){var r,s,a=new Promise((c,d)=>{r=c,s=d});return{promise:a,resolve:r,reject:s}}const ne=2,es=4,Yo=8,bn=16,Ye=32,Vi=64,As=128,_e=256,Wo=512,Dt=1024,ve=2048,fi=4096,Pe=8192,xn=16384,is=32768,ns=65536,fs=1<<17,Cl=1<<18,Cr=1<<19,Is=1<<20,Ka=1<<21,rs=1<<22,Wi=1<<23,ji=Symbol("$state"),os=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Al(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Il(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function zl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ol(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zl(r){throw new Error("https://svelte.dev/e/effect_orphan")}function Dl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Nl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Rl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Hl(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Wl=!1;function zs(r){return r===this.v}function jl(r,s){return r!=r?s==s:r!==s||r!==null&&typeof r=="object"||typeof r=="function"}function Os(r){return!jl(r,this.v)}let St=null;function jo(r){St=r}function Bs(r,s=!1,a){St={p:St,c:null,e:null,s:r,x:null,l:Sr&&!s?{s:null,u:null,$:[]}:null}}function Zs(r){var s=St,a=s.e;if(a!==null){s.e=null;for(var c of a)tl(c)}return St=s.p,{}}function Ar(){return!Sr||St!==null&&St.l===null}const Ul=new WeakMap;function ql(r){var s=nt;if(s===null)return it.f|=Wi,r;if((s.f&is)===0){if((s.f&As)===0)throw!s.parent&&r instanceof Error&&Ds(r),r;s.b.error(r)}else as(r,s)}function as(r,s){for(;s!==null;){if((s.f&As)!==0)try{s.b.error(r);return}catch(a){r=a}s=s.parent}throw r instanceof Error&&Ds(r),r}function Ds(r){const s=Ul.get(r);s&&(Ga(r,"message",{value:s.message}),Ga(r,"stack",{value:s.stack}))}let Tr=[],$a=[];function Ns(){var r=Tr;Tr=[],Ho(r)}function Vl(){var r=$a;$a=[],Ho(r)}function Rs(r){Tr.length===0&&queueMicrotask(Ns),Tr.push(r)}function Gl(){Tr.length>0&&Ns(),$a.length>0&&Vl()}function Kl(){for(var r=nt.b;r!==null&&!r.has_pending_snippet();)r=r.parent;return r===null&&Al(),r}function ss(r){var s=ne|ve,a=it!==null&&(it.f&ne)!==0?it:null;return nt===null||a!==null&&(a.f&_e)!==0?s|=_e:nt.f|=Cr,{ctx:St,deps:null,effects:null,equals:zs,f:s,fn:r,reactions:null,rv:0,v:zt,wv:0,parent:a??nt,ac:null}}function $l(r,s){let a=nt;a===null&&zl();var c=a.b,d=void 0,p=Lr(zt),_=null,T=!it;return uu(()=>{try{var g=r();_&&Promise.resolve(g).catch(()=>{})}catch(O){g=Promise.reject(O)}var k=()=>g;d=_?.then(k,k)??Promise.resolve(g),_=d;var A=kt,M=c.pending;T&&(c.update_pending_count(1),M||A.increment());const I=(O,E=void 0)=>{_=null,M||A.activate(),E?E!==os&&(p.f|=Wi,yn(p,E)):((p.f&Wi)!==0&&(p.f^=Wi),yn(p,O)),T&&(c.update_pending_count(-1),M||A.decrement()),js()};if(d.then(I,O=>I(null,O||"unknown")),A)return()=>{queueMicrotask(()=>A.neuter())}}),new Promise(g=>{function k(A){function M(){A===d?g(p):k(d)}A.then(M,M)}k(d)})}function Fs(r){const s=ss(r);return s.equals=Os,s}function Hs(r){var s=r.effects;if(s!==null){r.effects=null;for(var a=0;a<s.length;a+=1)$e(s[a])}}function Yl(r){for(var s=r.parent;s!==null;){if((s.f&ne)===0)return s;s=s.parent}return null}function ls(r){var s,a=nt;ci(Yl(r));try{Hs(r),s=hl(r)}finally{ci(a)}return s}function Ws(r){var s=ls(r);if(r.equals(s)||(r.v=s,r.wv=ll()),!wn){var a=(hi||(r.f&_e)!==0)&&r.deps!==null?fi:Dt;Xt(r,a)}}function Jl(r,s,a){const c=Ar()?ss:Fs;if(s.length===0){a(r.map(c));return}var d=kt,p=nt,_=Xl(),T=Kl();Promise.all(s.map(g=>$l(g))).then(g=>{d?.activate(),_();try{a([...r.map(c),...g])}catch(k){(p.f&xn)===0&&as(k,p)}d?.deactivate(),js()}).catch(g=>{T.error(g)})}function Xl(){var r=nt,s=it,a=St,c=kt;return function(){ci(r),Oe(s),jo(a),c?.activate()}}function js(){ci(null),Oe(null),jo(null)}const Fa=new Set;let kt=null,Ro=null,ps=new Set,Uo=[];function Us(){const r=Uo.shift();Uo.length>0&&queueMicrotask(Us),r()}let qi=[],Jo=null,Ya=!1,Fo=!1;class vn{current=new Map;#l=new Map;#r=new Set;#t=0;#u=null;#h=!1;#i=[];#o=[];#n=[];#e=[];#a=[];#d=[];#c=[];skipped_effects=new Set;process(s){qi=[],Ro=null;for(const d of s)this.#p(d);if(this.#i.length===0&&this.#t===0){this.#f();var a=this.#n,c=this.#e;this.#n=[],this.#e=[],this.#a=[],Ro=kt,kt=null,ms(a),ms(c),kt===null?kt=this:Fa.delete(this),this.#u?.resolve()}else this.#s(this.#n),this.#s(this.#e),this.#s(this.#a);for(const d of this.#i)_n(d);for(const d of this.#o)_n(d);this.#i=[],this.#o=[]}#p(s){s.f^=Dt;for(var a=s.first;a!==null;){var c=a.f,d=(c&(Ye|Vi))!==0,p=d&&(c&Dt)!==0,_=p||(c&Pe)!==0||this.skipped_effects.has(a);if(!_&&a.fn!==null){if(d)a.f^=Dt;else if((c&es)!==0)this.#e.push(a);else if((c&Dt)===0)if((c&rs)!==0){var T=a.b?.pending?this.#o:this.#i;T.push(a)}else ta(a)&&((a.f&bn)!==0&&this.#a.push(a),_n(a));var g=a.first;if(g!==null){a=g;continue}}var k=a.parent;for(a=a.next;a===null&&k!==null;)a=k.next,k=k.parent}}#s(s){for(const a of s)((a.f&ve)!==0?this.#d:this.#c).push(a),Xt(a,Dt);s.length=0}capture(s,a){this.#l.has(s)||this.#l.set(s,a),this.current.set(s,s.v)}activate(){kt=this}deactivate(){kt=null,Ro=null;for(const s of ps)if(ps.delete(s),s(),kt!==null)break}neuter(){this.#h=!0}flush(){qi.length>0?qs():this.#f(),kt===this&&(this.#t===0&&Fa.delete(this),this.deactivate())}#f(){if(!this.#h)for(const s of this.#r)s();this.#r.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const s of this.#d)Xt(s,ve),gn(s);for(const s of this.#c)Xt(s,fi),gn(s);this.#n=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(s){this.#r.add(s)}settled(){return(this.#u??=Sl()).promise}static ensure(){if(kt===null){const s=kt=new vn;Fa.add(kt),Fo||vn.enqueue(()=>{kt===s&&s.flush()})}return kt}static enqueue(s){Uo.length===0&&queueMicrotask(Us),Uo.unshift(s)}}function Ql(r){var s=Fo;Fo=!0;try{for(var a;;){if(Gl(),qi.length===0&&(kt?.flush(),qi.length===0))return Jo=null,a;qs()}}finally{Fo=s}}function qs(){var r=mn;Ya=!0;try{var s=0;for(bs(!0);qi.length>0;){var a=vn.ensure();if(s++>1e3){var c,d;tu()}a.process(qi),di.clear()}}finally{Ya=!1,bs(r),Jo=null}}function tu(){try{Dl()}catch(r){as(r,Jo)}}let Hi=null;function ms(r){var s=r.length;if(s!==0){for(var a=0;a<s;){var c=r[a++];if((c.f&(xn|Pe))===0&&ta(c)&&(Hi=[],_n(c),c.deps===null&&c.first===null&&c.nodes_start===null&&(c.teardown===null&&c.ac===null?rl(c):c.fn=null),Hi?.length>0)){di.clear();for(const d of Hi)_n(d);Hi=[]}}Hi=null}}function gn(r){for(var s=Jo=r;s.parent!==null;){s=s.parent;var a=s.f;if(Ya&&s===nt&&(a&bn)!==0)return;if((a&(Vi|Ye))!==0){if((a&Dt)===0)return;s.f^=Dt}}qi.push(s)}const di=new Map;function Lr(r,s){var a={f:0,v:r,reactions:null,equals:zs,rv:0,wv:0};return a}function li(r,s){const a=Lr(r);return mu(a),a}function Ut(r,s=!1,a=!0){const c=Lr(r);return s||(c.equals=Os),Sr&&a&&St!==null&&St.l!==null&&(St.l.s??=[]).push(c),c}function _s(r,s){return tt(r,zr(()=>y(r))),s}function tt(r,s,a=!1){it!==null&&(!ze||(it.f&fs)!==0)&&Ar()&&(it.f&(ne|bn|rs|fs))!==0&&!Ke?.includes(r)&&Fl();let c=a?br(s):s;return yn(r,c)}function yn(r,s){if(!r.equals(s)){var a=r.v;wn?di.set(r,s):di.set(r,a),r.v=s;var c=vn.ensure();c.capture(r,a),(r.f&ne)!==0&&((r.f&ve)!==0&&ls(r),Xt(r,(r.f&_e)===0?Dt:fi)),r.wv=ll(),Vs(r,ve),Ar()&&nt!==null&&(nt.f&Dt)!==0&&(nt.f&(Ye|Vi))===0&&(me===null?_u([r]):me.push(r))}return s}function Ha(r){tt(r,r.v+1)}function Vs(r,s){var a=r.reactions;if(a!==null)for(var c=Ar(),d=a.length,p=0;p<d;p++){var _=a[p],T=_.f;if(!(!c&&_===nt)){var g=(T&ve)===0;g&&Xt(_,s),(T&ne)!==0?Vs(_,fi):g&&((T&bn)!==0&&Hi!==null&&Hi.push(_),gn(_))}}}function br(r){if(typeof r!="object"||r===null||ji in r)return r;const s=Cs(r);if(s!==Ll&&s!==Ml)return r;var a=new Map,c=$o(r),d=li(0),p=Ui,_=T=>{if(Ui===p)return T();var g=it,k=Ui;Oe(null),ws(p);var A=T();return Oe(g),ws(k),A};return c&&a.set("length",li(r.length)),new Proxy(r,{defineProperty(T,g,k){(!("value"in k)||k.configurable===!1||k.enumerable===!1||k.writable===!1)&&Nl();var A=a.get(g);return A===void 0?A=_(()=>{var M=li(k.value);return a.set(g,M),M}):tt(A,k.value,!0),!0},deleteProperty(T,g){var k=a.get(g);if(k===void 0){if(g in T){const A=_(()=>li(zt));a.set(g,A),Ha(d)}}else tt(k,zt),Ha(d);return!0},get(T,g,k){if(g===ji)return r;var A=a.get(g),M=g in T;if(A===void 0&&(!M||kr(T,g)?.writable)&&(A=_(()=>{var O=br(M?T[g]:zt),E=li(O);return E}),a.set(g,A)),A!==void 0){var I=y(A);return I===zt?void 0:I}return Reflect.get(T,g,k)},getOwnPropertyDescriptor(T,g){var k=Reflect.getOwnPropertyDescriptor(T,g);if(k&&"value"in k){var A=a.get(g);A&&(k.value=y(A))}else if(k===void 0){var M=a.get(g),I=M?.v;if(M!==void 0&&I!==zt)return{enumerable:!0,configurable:!0,value:I,writable:!0}}return k},has(T,g){if(g===ji)return!0;var k=a.get(g),A=k!==void 0&&k.v!==zt||Reflect.has(T,g);if(k!==void 0||nt!==null&&(!A||kr(T,g)?.writable)){k===void 0&&(k=_(()=>{var I=A?br(T[g]):zt,O=li(I);return O}),a.set(g,k));var M=y(k);if(M===zt)return!1}return A},set(T,g,k,A){var M=a.get(g),I=g in T;if(c&&g==="length")for(var O=k;O<M.v;O+=1){var E=a.get(O+"");E!==void 0?tt(E,zt):O in T&&(E=_(()=>li(zt)),a.set(O+"",E))}if(M===void 0)(!I||kr(T,g)?.writable)&&(M=_(()=>li(void 0)),tt(M,br(k)),a.set(g,M));else{I=M.v!==zt;var z=_(()=>br(k));tt(M,z)}var V=Reflect.getOwnPropertyDescriptor(T,g);if(V?.set&&V.set.call(A,k),!I){if(c&&typeof g=="string"){var lt=a.get("length"),Y=Number(g);Number.isInteger(Y)&&Y>=lt.v&&tt(lt,Y+1)}Ha(d)}return!0},ownKeys(T){y(d);var g=Reflect.ownKeys(T).filter(M=>{var I=a.get(M);return I===void 0||I.v!==zt});for(var[k,A]of a)A.v!==zt&&!(k in T)&&g.push(k);return g},setPrototypeOf(){Rl()}})}function vs(r){try{if(r!==null&&typeof r=="object"&&ji in r)return r[ji]}catch{}return r}function eu(r,s){return Object.is(vs(r),vs(s))}var gs,Gs,Ks,$s;function iu(){if(gs===void 0){gs=window,Gs=/Firefox/.test(navigator.userAgent);var r=Element.prototype,s=Node.prototype,a=Text.prototype;Ks=kr(s,"firstChild").get,$s=kr(s,"nextSibling").get,cs(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),cs(a)&&(a.__t=void 0)}}function Ir(r=""){return document.createTextNode(r)}function qo(r){return Ks.call(r)}function Xo(r){return $s.call(r)}function h(r,s){return qo(r)}function Wa(r,s){{var a=qo(r);return a instanceof Comment&&a.data===""?Xo(a):a}}function m(r,s=1,a=!1){let c=r;for(;s--;)c=Xo(c);return c}function nu(r){r.textContent=""}function Ys(){return!1}let ys=!1;function ru(){ys||(ys=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(const s of r.target.elements)s.__on_r?.()})},{capture:!0}))}function Qo(r){var s=it,a=nt;Oe(null),ci(null);try{return r()}finally{Oe(s),ci(a)}}function Js(r,s,a,c=a){r.addEventListener(s,()=>Qo(a));const d=r.__on_r;d?r.__on_r=()=>{d(),c(!0)}:r.__on_r=()=>c(!0),ru()}function Xs(r){nt===null&&it===null&&Zl(),it!==null&&(it.f&_e)!==0&&nt===null&&Bl(),wn&&Ol()}function ou(r,s){var a=s.last;a===null?s.last=s.first=r:(a.next=r,r.prev=a,s.last=r)}function Be(r,s,a,c=!0){var d=nt;d!==null&&(d.f&Pe)!==0&&(r|=Pe);var p={ctx:St,deps:null,nodes_start:null,nodes_end:null,f:r|ve,first:null,fn:s,last:null,next:null,parent:d,b:d&&d.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(a)try{_n(p),p.f|=is}catch(g){throw $e(p),g}else s!==null&&gn(p);if(c){var _=p;if(a&&_.deps===null&&_.teardown===null&&_.nodes_start===null&&_.first===_.last&&(_.f&Cr)===0&&(_=_.first),_!==null&&(_.parent=d,d!==null&&ou(_,d),it!==null&&(it.f&ne)!==0&&(r&Vi)===0)){var T=it;(T.effects??=[]).push(_)}}return p}function Qs(r){const s=Be(Yo,null,!1);return Xt(s,Dt),s.teardown=r,s}function Ja(r){Xs();var s=nt.f,a=!it&&(s&Ye)!==0&&(s&is)===0;if(a){var c=St;(c.e??=[]).push(r)}else return tl(r)}function tl(r){return Be(es|Is,r,!1)}function au(r){return Xs(),Be(Yo|Is,r,!0)}function su(r){vn.ensure();const s=Be(Vi|Cr,r,!0);return(a={})=>new Promise(c=>{a.outro?us(s,()=>{$e(s),c(void 0)}):($e(s),c(void 0))})}function lu(r){return Be(es,r,!1)}function uu(r){return Be(rs|Cr,r,!0)}function hu(r,s=0){return Be(Yo|s,r,!0)}function jt(r,s=[],a=[]){Jl(s,a,c=>{Be(Yo,()=>r(...c.map(y)),!0)})}function el(r,s=0){var a=Be(bn|s,r,!0);return a}function Mr(r,s=!0){return Be(Ye|Cr,r,!0,s)}function il(r){var s=r.teardown;if(s!==null){const a=wn,c=it;xs(!0),Oe(null);try{s.call(null)}finally{xs(a),Oe(c)}}}function nl(r,s=!1){var a=r.first;for(r.first=r.last=null;a!==null;){const d=a.ac;d!==null&&Qo(()=>{d.abort(os)});var c=a.next;(a.f&Vi)!==0?a.parent=null:$e(a,s),a=c}}function du(r){for(var s=r.first;s!==null;){var a=s.next;(s.f&Ye)===0&&$e(s),s=a}}function $e(r,s=!0){var a=!1;(s||(r.f&Cl)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(cu(r.nodes_start,r.nodes_end),a=!0),nl(r,s&&!a),Vo(r,0),Xt(r,xn);var c=r.transitions;if(c!==null)for(const p of c)p.stop();il(r);var d=r.parent;d!==null&&d.first!==null&&rl(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function cu(r,s){for(;r!==null;){var a=r===s?null:Xo(r);r.remove(),r=a}}function rl(r){var s=r.parent,a=r.prev,c=r.next;a!==null&&(a.next=c),c!==null&&(c.prev=a),s!==null&&(s.first===r&&(s.first=c),s.last===r&&(s.last=a))}function us(r,s){var a=[];hs(r,a,!0),ol(a,()=>{$e(r),s&&s()})}function ol(r,s){var a=r.length;if(a>0){var c=()=>--a||s();for(var d of r)d.out(c)}else s()}function hs(r,s,a){if((r.f&Pe)===0){if(r.f^=Pe,r.transitions!==null)for(const _ of r.transitions)(_.is_global||a)&&s.push(_);for(var c=r.first;c!==null;){var d=c.next,p=(c.f&ns)!==0||(c.f&Ye)!==0;hs(c,s,p?a:!1),c=d}}}function ds(r){al(r,!0)}function al(r,s){if((r.f&Pe)!==0){r.f^=Pe,(r.f&Dt)===0&&(Xt(r,ve),gn(r));for(var a=r.first;a!==null;){var c=a.next,d=(a.f&ns)!==0||(a.f&Ye)!==0;al(a,d?s:!1),a=c}if(r.transitions!==null)for(const p of r.transitions)(p.is_global||s)&&p.in()}}let pn=null;function fu(r){var s=pn;try{if(pn=new Set,zr(r),s!==null)for(var a of pn)s.add(a);return pn}finally{pn=s}}function pu(r){for(var s of fu(r))yn(s,s.v)}let mn=!1;function bs(r){mn=r}let wn=!1;function xs(r){wn=r}let it=null,ze=!1;function Oe(r){it=r}let nt=null;function ci(r){nt=r}let Ke=null;function mu(r){it!==null&&(Ke===null?Ke=[r]:Ke.push(r))}let qt=null,ie=0,me=null;function _u(r){me=r}let sl=1,Er=0,Ui=Er;function ws(r){Ui=r}let hi=!1;function ll(){return++sl}function ta(r){var s=r.f;if((s&ve)!==0)return!0;if((s&fi)!==0){var a=r.deps,c=(s&_e)!==0;if(a!==null){var d,p,_=(s&Wo)!==0,T=c&&nt!==null&&!hi,g=a.length;if((_||T)&&(nt===null||(nt.f&xn)===0)){var k=r,A=k.parent;for(d=0;d<g;d++)p=a[d],(_||!p?.reactions?.includes(k))&&(p.reactions??=[]).push(k);_&&(k.f^=Wo),T&&A!==null&&(A.f&_e)===0&&(k.f^=_e)}for(d=0;d<g;d++)if(p=a[d],ta(p)&&Ws(p),p.wv>r.wv)return!0}(!c||nt!==null&&!hi)&&Xt(r,Dt)}return!1}function ul(r,s,a=!0){var c=r.reactions;if(c!==null&&!Ke?.includes(r))for(var d=0;d<c.length;d++){var p=c[d];(p.f&ne)!==0?ul(p,s,!1):s===p&&(a?Xt(p,ve):(p.f&Dt)!==0&&Xt(p,fi),gn(p))}}function hl(r){var s=qt,a=ie,c=me,d=it,p=hi,_=Ke,T=St,g=ze,k=Ui,A=r.f;qt=null,ie=0,me=null,hi=(A&_e)!==0&&(ze||!mn||it===null),it=(A&(Ye|Vi))===0?r:null,Ke=null,jo(r.ctx),ze=!1,Ui=++Er,r.ac!==null&&(Qo(()=>{r.ac.abort(os)}),r.ac=null);try{r.f|=Ka;var M=r.fn,I=M(),O=r.deps;if(qt!==null){var E;if(Vo(r,ie),O!==null&&ie>0)for(O.length=ie+qt.length,E=0;E<qt.length;E++)O[ie+E]=qt[E];else r.deps=O=qt;if(!hi||(A&ne)!==0&&r.reactions!==null)for(E=ie;E<O.length;E++)(O[E].reactions??=[]).push(r)}else O!==null&&ie<O.length&&(Vo(r,ie),O.length=ie);if(Ar()&&me!==null&&!ze&&O!==null&&(r.f&(ne|fi|ve))===0)for(E=0;E<me.length;E++)ul(me[E],r);return d!==null&&d!==r&&(Er++,me!==null&&(c===null?c=me:c.push(...me))),(r.f&Wi)!==0&&(r.f^=Wi),I}catch(z){return ql(z)}finally{r.f^=Ka,qt=s,ie=a,me=c,it=d,hi=p,Ke=_,jo(T),ze=g,Ui=k}}function vu(r,s){let a=s.reactions;if(a!==null){var c=Pl.call(a,r);if(c!==-1){var d=a.length-1;d===0?a=s.reactions=null:(a[c]=a[d],a.pop())}}a===null&&(s.f&ne)!==0&&(qt===null||!qt.includes(s))&&(Xt(s,fi),(s.f&(_e|Wo))===0&&(s.f^=Wo),Hs(s),Vo(s,0))}function Vo(r,s){var a=r.deps;if(a!==null)for(var c=s;c<a.length;c++)vu(r,a[c])}function _n(r){var s=r.f;if((s&xn)===0){Xt(r,Dt);var a=nt,c=mn;nt=r,mn=!0;try{(s&bn)!==0?du(r):nl(r),il(r);var d=hl(r);r.teardown=typeof d=="function"?d:null,r.wv=sl;var p;Ss&&gl&&(r.f&ve)!==0&&r.deps}finally{mn=c,nt=a}}}async function gu(){await Promise.resolve(),Ql()}function y(r){var s=r.f,a=(s&ne)!==0;if(pn?.add(r),it!==null&&!ze){var c=nt!==null&&(nt.f&xn)!==0;if(!c&&!Ke?.includes(r)){var d=it.deps;if((it.f&Ka)!==0)r.rv<Er&&(r.rv=Er,qt===null&&d!==null&&d[ie]===r?ie++:qt===null?qt=[r]:(!hi||!qt.includes(r))&&qt.push(r));else{(it.deps??=[]).push(r);var p=r.reactions;p===null?r.reactions=[it]:p.includes(it)||p.push(it)}}}else if(a&&r.deps===null&&r.effects===null){var _=r,T=_.parent;T!==null&&(T.f&_e)===0&&(_.f^=_e)}if(wn){if(di.has(r))return di.get(r);if(a){_=r;var g=_.v;return((_.f&Dt)===0&&_.reactions!==null||dl(_))&&(g=ls(_)),di.set(_,g),g}}else a&&(_=r,ta(_)&&Ws(_));if((r.f&Wi)!==0)throw r.v;return r.v}function dl(r){if(r.v===zt)return!0;if(r.deps===null)return!1;for(const s of r.deps)if(di.has(s)||(s.f&ne)!==0&&dl(s))return!0;return!1}function zr(r){var s=ze;try{return ze=!0,r()}finally{ze=s}}const yu=-7169;function Xt(r,s){r.f=r.f&yu|s}function bu(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(ji in r)Xa(r);else if(!Array.isArray(r))for(let s in r){const a=r[s];typeof a=="object"&&a&&ji in a&&Xa(a)}}}function Xa(r,s=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!s.has(r)){s.add(r),r instanceof Date&&r.getTime();for(let c in r)try{Xa(r[c],s)}catch{}const a=Cs(r);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const c=Tl(a);for(let d in c){const p=c[d].get;if(p)try{p.call(r)}catch{}}}}}const xu=new Set,ks=new Set;function wu(r,s,a,c={}){function d(p){if(c.capture||xr.call(s,p),!p.cancelBubble)return Qo(()=>a?.call(this,p))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Rs(()=>{s.addEventListener(r,d,c)}):s.addEventListener(r,d,c),d}function q(r,s,a,c,d){var p={capture:c,passive:d},_=wu(r,s,a,p);(s===document.body||s===window||s===document||s instanceof HTMLMediaElement)&&Qs(()=>{s.removeEventListener(r,_,p)})}let Ps=null;function xr(r){var s=this,a=s.ownerDocument,c=r.type,d=r.composedPath?.()||[],p=d[0]||r.target;Ps=r;var _=0,T=Ps===r&&r.__root;if(T){var g=d.indexOf(T);if(g!==-1&&(s===document||s===window)){r.__root=s;return}var k=d.indexOf(s);if(k===-1)return;g<=k&&(_=g)}if(p=d[_]||r.target,p!==s){Ga(r,"currentTarget",{configurable:!0,get(){return p||a}});var A=it,M=nt;Oe(null),ci(null);try{for(var I,O=[];p!==null;){var E=p.assignedSlot||p.parentNode||p.host||null;try{var z=p["__"+c];if(z!=null&&(!p.disabled||r.target===p))if($o(z)){var[V,...lt]=z;V.apply(p,[r,...lt])}else z.call(p,r)}catch(Y){I?O.push(Y):I=Y}if(r.cancelBubble||E===s||E===null)break;p=E}if(I){for(let Y of O)queueMicrotask(()=>{throw Y});throw I}}finally{r.__root=s,delete r.currentTarget,Oe(A),ci(M)}}}function ku(r){var s=document.createElement("template");return s.innerHTML=r.replaceAll("<!>","\x3C!---->"),s.content}function Qa(r,s){var a=nt;a.nodes_start===null&&(a.nodes_start=r,a.nodes_end=s)}function Vt(r,s){var a=(s&wl)!==0,c=(s&kl)!==0,d,p=!r.startsWith("<!>");return()=>{d===void 0&&(d=ku(p?r:"<!>"+r),a||(d=qo(d)));var _=c||Gs?document.importNode(d,!0):d.cloneNode(!0);if(a){var T=qo(_),g=_.lastChild;Qa(T,g)}else Qa(_,_);return _}}function Pu(){var r=document.createDocumentFragment(),s=document.createComment(""),a=Ir();return r.append(s,a),Qa(s,a),r}function Zt(r,s){r!==null&&r.before(s)}const Tu=["touchstart","touchmove"];function Lu(r){return Tu.includes(r)}function P(r,s){var a=s==null?"":typeof s=="object"?s+"":s;a!==(r.__t??=r.nodeValue)&&(r.__t=a,r.nodeValue=a+"")}function Mu(r,s){return Eu(r,s)}const fn=new Map;function Eu(r,{target:s,anchor:a,props:c={},events:d,context:p,intro:_=!0}){iu();var T=new Set,g=M=>{for(var I=0;I<M.length;I++){var O=M[I];if(!T.has(O)){T.add(O);var E=Lu(O);s.addEventListener(O,xr,{passive:E});var z=fn.get(O);z===void 0?(document.addEventListener(O,xr,{passive:E}),fn.set(O,1)):fn.set(O,z+1)}}};g(ts(xu)),ks.add(g);var k=void 0,A=su(()=>{var M=a??s.appendChild(Ir());return Mr(()=>{if(p){Bs({});var I=St;I.c=p}d&&(c.$$events=d),k=r(M,c)||{},p&&Zs()}),()=>{for(var I of T){s.removeEventListener(I,xr);var O=fn.get(I);--O===0?(document.removeEventListener(I,xr),fn.delete(I)):fn.set(I,O)}ks.delete(g),M!==a&&M.parentNode?.removeChild(M)}});return Su.set(k,A),k}let Su=new WeakMap;function Cu(r){St===null&&Il(),Sr&&St.l!==null?Au(St).m.push(r):Ja(()=>{const s=zr(r);if(typeof s=="function")return s})}function Au(r){var s=r.l;return s.u??={a:[],b:[],m:[]}}function ui(r,s,a=!1){var c=r,d=null,p=null,_=zt,T=a?ns:0,g=!1;const k=(O,E=!0)=>{g=!0,I(E,O)};var A=null;function M(){A!==null&&(A.lastChild.remove(),c.before(A),A=null);var O=_?d:p,E=_?p:d;O&&ds(O),E&&us(E,()=>{_?p=null:d=null})}const I=(O,E)=>{if(_!==(_=O)){var z=Ys(),V=c;if(z&&(A=document.createDocumentFragment(),A.append(V=Ir())),_?d??=E&&Mr(()=>E(V)):p??=E&&Mr(()=>E(V)),z){var lt=kt,Y=_?d:p,b=_?p:d;Y&&lt.skipped_effects.delete(Y),b&&lt.skipped_effects.add(b),lt.add_callback(M)}else M()}};el(()=>{g=!1,s(k),g||I(null,null)},T)}function Do(r,s){return s}function Iu(r,s,a){for(var c=r.items,d=[],p=s.length,_=0;_<p;_++)hs(s[_].e,d,!0);var T=p>0&&d.length===0&&a!==null;if(T){var g=a.parentNode;nu(g),g.append(a),c.clear(),Ie(r,s[0].prev,s[p-1].next)}ol(d,()=>{for(var k=0;k<p;k++){var A=s[k];T||(c.delete(A.k),Ie(r,A.prev,A.next)),$e(A.e,!T)}})}function No(r,s,a,c,d,p=null){var _=r,T={flags:s,items:new Map,first:null},g=(s&Es)!==0;if(g){var k=r;_=k.appendChild(Ir())}var A=null,M=!1,I=new Map,O=Fs(()=>{var lt=a();return $o(lt)?lt:lt==null?[]:ts(lt)}),E,z;function V(){zu(z,E,T,I,_,d,s,c,a),p!==null&&(E.length===0?A?ds(A):A=Mr(()=>p(_)):A!==null&&us(A,()=>{A=null}))}el(()=>{z??=nt,E=y(O);var lt=E.length;if(!(M&&lt===0)){M=lt===0;var Y,b,mt,_t;if(Ys()){var J=new Set,ot=kt;for(b=0;b<lt;b+=1){mt=E[b],_t=c(mt,b);var Nt=T.items.get(_t)??I.get(_t);Nt?(s&(Go|Ko))!==0&&cl(Nt,mt,b,s):(Y=fl(null,T,null,null,mt,_t,b,d,s,a,!0),I.set(_t,Y)),J.add(_t)}for(const[re,oe]of T.items)J.has(re)||ot.skipped_effects.add(oe.e);ot.add_callback(V)}else V();y(O)}})}function zu(r,s,a,c,d,p,_,T,g){var k=(_&bl)!==0,A=(_&(Go|Ko))!==0,M=s.length,I=a.items,O=a.first,E=O,z,V=null,lt,Y=[],b=[],mt,_t,J,ot;if(k)for(ot=0;ot<M;ot+=1)mt=s[ot],_t=T(mt,ot),J=I.get(_t),J!==void 0&&(J.a?.measure(),(lt??=new Set).add(J));for(ot=0;ot<M;ot+=1){if(mt=s[ot],_t=T(mt,ot),J=I.get(_t),J===void 0){var Nt=c.get(_t);if(Nt!==void 0){c.delete(_t),I.set(_t,Nt);var re=V?V.next:E;Ie(a,V,Nt),Ie(a,Nt,re),ja(Nt,re,d),V=Nt}else{var oe=E?E.e.nodes_start:d;V=fl(oe,a,V,V===null?a.first:V.next,mt,_t,ot,p,_,g)}I.set(_t,V),Y=[],b=[],E=V.next;continue}if(A&&cl(J,mt,ot,_),(J.e.f&Pe)!==0&&(ds(J.e),k&&(J.a?.unfix(),(lt??=new Set).delete(J))),J!==E){if(z!==void 0&&z.has(J)){if(Y.length<b.length){var K=b[0],ct;V=K.prev;var Gi=Y[0],At=Y[Y.length-1];for(ct=0;ct<Y.length;ct+=1)ja(Y[ct],K,d);for(ct=0;ct<b.length;ct+=1)z.delete(b[ct]);Ie(a,Gi.prev,At.next),Ie(a,V,Gi),Ie(a,At,K),E=K,V=At,ot-=1,Y=[],b=[]}else z.delete(J),ja(J,E,d),Ie(a,J.prev,J.next),Ie(a,J,V===null?a.first:V.next),Ie(a,V,J),V=J;continue}for(Y=[],b=[];E!==null&&E.k!==_t;)(E.e.f&Pe)===0&&(z??=new Set).add(E),b.push(E),E=E.next;if(E===null)continue;J=E}Y.push(J),V=J,E=J.next}if(E!==null||z!==void 0){for(var ge=z===void 0?[]:ts(z);E!==null;)(E.e.f&Pe)===0&&ge.push(E),E=E.next;var Ct=ge.length;if(Ct>0){var Te=(_&Es)!==0&&M===0?d:null;if(k){for(ot=0;ot<Ct;ot+=1)ge[ot].a?.measure();for(ot=0;ot<Ct;ot+=1)ge[ot].a?.fix()}Iu(a,ge,Te)}}k&&Rs(()=>{if(lt!==void 0)for(J of lt)J.a?.apply()}),r.first=a.first&&a.first.e,r.last=V&&V.e;for(var H of c.values())$e(H.e);c.clear()}function cl(r,s,a,c){(c&Go)!==0&&yn(r.v,s),(c&Ko)!==0?yn(r.i,a):r.i=a}function fl(r,s,a,c,d,p,_,T,g,k,A){var M=(g&Go)!==0,I=(g&xl)===0,O=M?I?Ut(d,!1,!1):Lr(d):d,E=(g&Ko)===0?_:Lr(_),z={i:E,v:O,k:p,a:null,e:null,prev:a,next:c};try{if(r===null){var V=document.createDocumentFragment();V.append(r=Ir())}return z.e=Mr(()=>T(r,O,E,k),Wl),z.e.prev=a&&a.e,z.e.next=c&&c.e,a===null?A||(s.first=z):(a.next=z,a.e.next=z.e),c!==null&&(c.prev=z,c.e.prev=z.e),z}finally{}}function ja(r,s,a){for(var c=r.next?r.next.e.nodes_start:a,d=s?s.e.nodes_start:a,p=r.e.nodes_start;p!==null&&p!==c;){var _=Xo(p);d.before(p),p=_}}function Ie(r,s,a){s===null?r.first=a:(s.next=a,s.e.next=a&&a.e),a!==null&&(a.prev=s,a.e.prev=s&&s.e)}const Ts=[...` 	
\r\fÂ \v\uFEFF`];function Ou(r,s,a){var c=r==null?"":""+r;if(a){for(var d in a)if(a[d])c=c?c+" "+d:d;else if(c.length)for(var p=d.length,_=0;(_=c.indexOf(d,_))>=0;){var T=_+p;(_===0||Ts.includes(c[_-1]))&&(T===c.length||Ts.includes(c[T]))?c=(_===0?"":c.substring(0,_))+c.substring(T+1):_=T}}return c===""?null:c}function pe(r,s,a,c,d,p){var _=r.__className;if(_!==a||_===void 0){var T=Ou(a,c,p);T==null?r.removeAttribute("class"):r.className=T,r.__className=a}else if(p&&d!==p)for(var g in p){var k=!!p[g];(d==null||k!==!!d[g])&&r.classList.toggle(g,k)}return p}function pl(r,s,a=!1){if(r.multiple){if(s==null)return;if(!$o(s))return Hl();for(var c of r.options)c.selected=s.includes(Pr(c));return}for(c of r.options){var d=Pr(c);if(eu(d,s)){c.selected=!0;return}}(!a||s!==void 0)&&(r.selectedIndex=-1)}function Bu(r){var s=new MutationObserver(()=>{pl(r,r.__value)});s.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Qs(()=>{s.disconnect()})}function Zu(r,s,a=s){var c=!0;Js(r,"change",d=>{var p=d?"[selected]":":checked",_;if(r.multiple)_=[].map.call(r.querySelectorAll(p),Pr);else{var T=r.querySelector(p)??r.querySelector("option:not([disabled])");_=T&&Pr(T)}a(_)}),lu(()=>{var d=s();if(pl(r,d,c),c&&d===void 0){var p=r.querySelector(":checked");p!==null&&(d=Pr(p),a(d))}r.__value=d,c=!1}),Bu(r)}function Pr(r){return"__value"in r?r.__value:r.value}function Du(r,s,a=s){var c=new WeakSet;Js(r,"input",async d=>{var p=d?r.defaultValue:r.value;if(p=Ua(r)?qa(p):p,a(p),kt!==null&&c.add(kt),await gu(),p!==(p=s())){var _=r.selectionStart,T=r.selectionEnd;r.value=p??"",T!==null&&(r.selectionStart=_,r.selectionEnd=Math.min(T,r.value.length))}}),zr(s)==null&&r.value&&(a(Ua(r)?qa(r.value):r.value),kt!==null&&c.add(kt)),hu(()=>{var d=s();if(r===document.activeElement){var p=Ro??kt;if(c.has(p))return}Ua(r)&&d===qa(r.value)||r.type==="date"&&!d&&!r.value||d!==r.value&&(r.value=d??"")})}function Ua(r){var s=r.type;return s==="number"||s==="range"}function qa(r){return r===""?null:+r}function Va(r){return function(...s){var a=s[0];return a.preventDefault(),r?.apply(this,s)}}function Nu(r=!1){const s=St,a=s.l.u;if(!a)return;let c=()=>bu(s.s);if(r){let d=0,p={};const _=ss(()=>{let T=!1;const g=s.s;for(const k in g)g[k]!==p[k]&&(p[k]=g[k],T=!0);return T&&d++,d});c=()=>y(_)}a.b.length&&au(()=>{Ls(s,c),Ho(a.b)}),Ja(()=>{const d=zr(()=>a.m.map(El));return()=>{for(const p of d)typeof p=="function"&&p()}}),a.a.length&&Ja(()=>{Ls(s,c),Ho(a.a)})}function Ls(r,s){if(r.l.s)for(const a of r.l.s)y(a);s()}function Ru(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Fu=wr.exports,Ms;function Hu(){return Ms||(Ms=1,(function(r,s){(function(a,c){c(s)})(Fu,(function(a){var c="1.9.4";function d(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++){o=arguments[i];for(e in o)t[e]=o[e]}return t}var p=Object.create||(function(){function t(){}return function(e){return t.prototype=e,new t}})();function _(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var T=0;function g(t){return"_leaflet_id"in t||(t._leaflet_id=++T),t._leaflet_id}function k(t,e,i){var n,o,l,u;return u=function(){n=!1,o&&(l.apply(i,o),o=!1)},l=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(u,e),n=!0)},l}function A(t,e,i){var n=e[1],o=e[0],l=n-o;return t===n&&i?t:((t-o)%l+l)%l+o}function M(){return!1}function I(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function O(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function E(t){return O(t).split(/\s+/)}function z(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function V(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(!e||e.indexOf("?")===-1?"?":"&")+n.join("&")}var lt=/\{ *([\w_ -]+) *\}/g;function Y(t,e){return t.replace(lt,function(i,n){var o=e[n];if(o===void 0)throw new Error("No value provided for variable "+i);return typeof o=="function"&&(o=o(e)),o})}var b=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function mt(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var _t="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ot=0;function Nt(t){var e=+new Date,i=Math.max(0,16-(e-ot));return ot=e+i,window.setTimeout(t,i)}var re=window.requestAnimationFrame||J("RequestAnimationFrame")||Nt,oe=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function K(t,e,i){if(i&&re===Nt)t.call(e);else return re.call(window,_(t,e))}function ct(t){t&&oe.call(window,t)}var Gi={__proto__:null,extend:d,create:p,bind:_,get lastId(){return T},stamp:g,throttle:k,wrapNum:A,falseFn:M,formatNum:I,trim:O,splitWords:E,setOptions:z,getParamString:V,template:Y,isArray:b,indexOf:mt,emptyImageUrl:_t,requestFn:re,cancelFn:oe,requestAnimFrame:K,cancelAnimFrame:ct};function At(){}At.extend=function(t){var e=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=p(i);n.constructor=e,e.prototype=n;for(var o in this)Object.prototype.hasOwnProperty.call(this,o)&&o!=="prototype"&&o!=="__super__"&&(e[o]=this[o]);return t.statics&&d(e,t.statics),t.includes&&(ge(t.includes),d.apply(null,[n].concat(t.includes))),d(n,t),delete n.statics,delete n.includes,n.options&&(n.options=i.options?p(i.options):{},d(n.options,t.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var l=0,u=n._initHooks.length;l<u;l++)n._initHooks[l].call(this)}},e},At.include=function(t){var e=this.prototype.options;return d(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},At.mergeOptions=function(t){return d(this.prototype.options,t),this},At.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function ge(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=b(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(t,e,i){if(typeof t=="object")for(var n in t)this._on(n,t[n],e);else{t=E(t);for(var o=0,l=t.length;o<l;o++)this._on(t[o],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var n in t)this._off(n,t[n],e);else{t=E(t);for(var o=arguments.length===1,l=0,u=t.length;l<u;l++)o?this._off(t[l]):this._off(t[l],e,i)}return this},_on:function(t,e,i,n){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var o={fn:e,ctx:i};n&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}},_off:function(t,e,i){var n,o,l;if(this._events&&(n=this._events[t],!!n)){if(arguments.length===1){if(this._firingCount)for(o=0,l=n.length;o<l;o++)n[o].fn=M;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var u=this._listens(t,e,i);if(u!==!1){var f=n[u];this._firingCount&&(f.fn=M,this._events[t]=n=n.slice()),n.splice(u,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=d({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var l=0,u=o.length;l<u;l++){var f=o[l],v=f.fn;f.once&&this.off(t,v,f.ctx),v.call(f.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(t,e,i,n){typeof t!="string"&&console.warn('"string" type argument expected');var o=e;typeof e!="function"&&(n=!!e,o=void 0,i=void 0);var l=this._events&&this._events[t];if(l&&l.length&&this._listens(t,o,i)!==!1)return!0;if(n){for(var u in this._eventParents)if(this._eventParents[u].listens(t,e,i,n))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var n=this._events[t]||[];if(!e)return!!n.length;i===this&&(i=void 0);for(var o=0,l=n.length;o<l;o++)if(n[o].fn===e&&n[o].ctx===i)return o;return!1},once:function(t,e,i){if(typeof t=="object")for(var n in t)this._on(n,t[n],e,!0);else{t=E(t);for(var o=0,l=t.length;o<l;o++)this._on(t[o],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[g(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[g(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,d({layer:t.target,propagatedFrom:t.target},t),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Te=At.extend(Ct);function H(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var kn=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=kn(this.x),this.y=kn(this.y),this},distanceTo:function(t){t=R(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=R(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function R(t,e,i){return t instanceof H?t:b(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,e,i)}function ft(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}ft.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)e=i=R(t);else if(t=Ot(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof H?t=R(t):t=Ot(t),t instanceof ft?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Ot(t);var e=this.min,i=this.max,n=t.min,o=t.max,l=o.x>=e.x&&n.x<=i.x,u=o.y>=e.y&&n.y<=i.y;return l&&u},overlaps:function(t){t=Ot(t);var e=this.min,i=this.max,n=t.min,o=t.max,l=o.x>e.x&&n.x<i.x,u=o.y>e.y&&n.y<i.y;return l&&u},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,n=Math.abs(e.x-i.x)*t,o=Math.abs(e.y-i.y)*t;return Ot(R(e.x-n,e.y-o),R(i.x+n,i.y+o))},equals:function(t){return t?(t=Ot(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ot(t,e){return!t||t instanceof ft?t:new ft(t,e)}function It(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}It.prototype={extend:function(t){var e=this._southWest,i=this._northEast,n,o;if(t instanceof at)n=t,o=t;else if(t instanceof It){if(n=t._southWest,o=t._northEast,!n||!o)return this}else return t?this.extend(X(t)||vt(t)):this;return!e&&!i?(this._southWest=new at(n.lat,n.lng),this._northEast=new at(o.lat,o.lng)):(e.lat=Math.min(n.lat,e.lat),e.lng=Math.min(n.lng,e.lng),i.lat=Math.max(o.lat,i.lat),i.lng=Math.max(o.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new It(new at(e.lat-n,e.lng-o),new at(i.lat+n,i.lng+o))},getCenter:function(){return new at((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new at(this.getNorth(),this.getWest())},getSouthEast:function(){return new at(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof at||"lat"in t?t=X(t):t=vt(t);var e=this._southWest,i=this._northEast,n,o;return t instanceof It?(n=t.getSouthWest(),o=t.getNorthEast()):n=o=t,n.lat>=e.lat&&o.lat<=i.lat&&n.lng>=e.lng&&o.lng<=i.lng},intersects:function(t){t=vt(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),l=o.lat>=e.lat&&n.lat<=i.lat,u=o.lng>=e.lng&&n.lng<=i.lng;return l&&u},overlaps:function(t){t=vt(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),l=o.lat>e.lat&&n.lat<i.lat,u=o.lng>e.lng&&n.lng<i.lng;return l&&u},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=vt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function vt(t,e){return t instanceof It?t:new It(t,e)}function at(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}at.prototype={equals:function(t,e){if(!t)return!1;t=X(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+I(this.lat,t)+", "+I(this.lng,t)+")"},distanceTo:function(t){return ye.distance(this,X(t))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return vt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new at(this.lat,this.lng,this.alt)}};function X(t,e,i){return t instanceof at?t:b(t)&&typeof t[0]!="object"?t.length===3?new at(t[0],t[1],t[2]):t.length===2?new at(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new at(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new at(t,e,i)}var ae={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),o=this.transformation.transform(e.max,i);return new ft(n,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?A(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?A(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return new at(i,e,n)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(n===0&&o===0)return t;var l=t.getSouthWest(),u=t.getNorthEast(),f=new at(l.lat-n,l.lng-o),v=new at(u.lat-n,u.lng-o);return new It(f,v)}},ye=d({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,l=Math.sin((e.lat-t.lat)*i/2),u=Math.sin((e.lng-t.lng)*i/2),f=l*l+Math.cos(n)*Math.cos(o)*u*u,v=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f));return this.R*v}}),Or=6378137,Pn={R:Or,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new H(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new at((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(function(){var t=Or*Math.PI;return new ft([-t,-t],[t,t])})()};function Ki(t,e,i,n){if(b(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=n}Ki.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new H((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function Je(t,e,i,n){return new Ki(t,e,i,n)}var pi=d({},ye,{code:"EPSG:3857",projection:Pn,transformation:(function(){var t=.5/(Math.PI*Pn.R);return Je(t,.5,-t,.5)})()}),Br=d({},pi,{code:"EPSG:900913"});function mi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Tn(t,e){var i="",n,o,l,u,f,v;for(n=0,l=t.length;n<l;n++){for(f=t[n],o=0,u=f.length;o<u;o++)v=f[o],i+=(o?"L":"M")+v.x+" "+v.y;i+=e?B.svg?"z":"x":""}return i||"M0 0"}var Ln=document.documentElement.style,Ze="ActiveXObject"in window,Zr=Ze&&!document.addEventListener,Dr="msLaunchUri"in navigator&&!("documentMode"in document),Xe=se("webkit"),Mn=se("android"),Nr=se("android 2")||se("android 3"),$i=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rr=Mn&&se("Google")&&$i<537&&!("AudioNode"in window),En=!!window.opera,Fr=!Dr&&se("chrome"),Hr=se("gecko")&&!Xe&&!En&&!Ze,ea=!Fr&&se("safari"),Sn=se("phantom"),Yi="OTransition"in Ln,Cn=navigator.platform.indexOf("Win")===0,An=Ze&&"transition"in Ln,_i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Nr,Wr="MozPerspective"in Ln,In=!window.L_DISABLE_3D&&(An||_i||Wr)&&!Yi&&!Sn,vi=typeof orientation<"u"||se("mobile"),ia=vi&&Xe,na=vi&&_i,jr=!window.PointerEvent&&window.MSPointerEvent,zn=!!(window.PointerEvent||jr),Ji="ontouchstart"in window||!!window.TouchEvent,Ur=!window.L_NO_TOUCH&&(Ji||zn),qr=vi&&En,ra=vi&&Hr,oa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,aa=(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",M,e),window.removeEventListener("testPassiveEventSupport",M,e)}catch{}return t})(),Vr=(function(){return!!document.createElement("canvas").getContext})(),Xi=!!(document.createElementNS&&mi("svg").createSVGRect),sa=!!Xi&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),la=!Xi&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}})(),Gr=navigator.platform.indexOf("Mac")===0,ua=navigator.platform.indexOf("Linux")===0;function se(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var B={ie:Ze,ielt9:Zr,edge:Dr,webkit:Xe,android:Mn,android23:Nr,androidStock:Rr,opera:En,chrome:Fr,gecko:Hr,safari:ea,phantom:Sn,opera12:Yi,win:Cn,ie3d:An,webkit3d:_i,gecko3d:Wr,any3d:In,mobile:vi,mobileWebkit:ia,mobileWebkit3d:na,msPointer:jr,pointer:zn,touch:Ur,touchNative:Ji,mobileOpera:qr,mobileGecko:ra,retina:oa,passiveEvents:aa,canvas:Vr,svg:Xi,vml:la,inlineSvg:sa,mac:Gr,linux:ua},Kr=B.msPointer?"MSPointerDown":"pointerdown",On=B.msPointer?"MSPointerMove":"pointermove",$r=B.msPointer?"MSPointerUp":"pointerup",Bn=B.msPointer?"MSPointerCancel":"pointercancel",Zn={touchstart:Kr,touchmove:On,touchend:$r,touchcancel:Bn},Dn={touchstart:pa,touchmove:gi,touchend:gi,touchcancel:gi},De={},Yr=!1;function ha(t,e,i){return e==="touchstart"&&fa(),Dn[e]?(i=Dn[e].bind(this,i),t.addEventListener(Zn[e],i,!1),i):(console.warn("wrong event specified:",e),M)}function da(t,e,i){if(!Zn[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Zn[e],i,!1)}function ca(t){De[t.pointerId]=t}function Jr(t){De[t.pointerId]&&(De[t.pointerId]=t)}function Nn(t){delete De[t.pointerId]}function fa(){Yr||(document.addEventListener(Kr,ca,!0),document.addEventListener(On,Jr,!0),document.addEventListener($r,Nn,!0),document.addEventListener(Bn,Nn,!0),Yr=!0)}function gi(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in De)e.touches.push(De[i]);e.changedTouches=[e],t(e)}}function pa(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Et(e),gi(t,e)}function Xr(t){var e={},i,n;for(n in t)i=t[n],e[n]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var ma=200;function Qr(t,e){t.addEventListener("dblclick",e);var i=0,n;function o(l){if(l.detail!==1){n=l.detail;return}if(!(l.pointerType==="mouse"||l.sourceCapabilities&&!l.sourceCapabilities.firesTouchEvents)){var u=no(l);if(!(u.some(function(v){return v instanceof HTMLLabelElement&&v.attributes.for})&&!u.some(function(v){return v instanceof HTMLInputElement||v instanceof HTMLSelectElement}))){var f=Date.now();f-i<=ma?(n++,n===2&&e(Xr(l))):n=1,i=f}}}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}function to(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Rn=en(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qe=en(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eo=Qe==="webkitTransition"||Qe==="OTransition"?Qe+"End":"transitionend";function Fn(t){return typeof t=="string"?document.getElementById(t):t}function yi(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return i==="auto"?null:i}function et(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function dt(t){var e=t.parentNode;e&&e.removeChild(t)}function Qi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ne(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ti(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function tn(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=bi(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function G(t,e){if(t.classList!==void 0)for(var i=E(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!tn(t,e)){var l=bi(t);Hn(t,(l?l+" ":"")+e)}}function gt(t,e){t.classList!==void 0?t.classList.remove(e):Hn(t,O((" "+bi(t)+" ").replace(" "+e+" "," ")))}function Hn(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function bi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Rt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&_a(t,e)}function _a(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function en(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Re(t,e,i){var n=e||new H(0,0);t.style[Rn]=(B.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function Pt(t,e){t._leaflet_pos=e,B.any3d?Re(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Le(t){return t._leaflet_pos||new H(0,0)}var xi,wi,nn;if("onselectstart"in document)xi=function(){j(window,"selectstart",Et)},wi=function(){ut(window,"selectstart",Et)};else{var ki=en(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xi=function(){if(ki){var t=document.documentElement.style;nn=t[ki],t[ki]="none"}},wi=function(){ki&&(document.documentElement.style[ki]=nn,nn=void 0)}}function Wn(){j(window,"dragstart",Et)}function jn(){ut(window,"dragstart",Et)}var Pi,Un;function qn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ti(),Pi=t,Un=t.style.outlineStyle,t.style.outlineStyle="none",j(window,"keydown",Ti))}function Ti(){Pi&&(Pi.style.outlineStyle=Un,Pi=void 0,Un=void 0,ut(window,"keydown",Ti))}function io(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Vn(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var va={__proto__:null,TRANSFORM:Rn,TRANSITION:Qe,TRANSITION_END:eo,get:Fn,getStyle:yi,create:et,remove:dt,empty:Qi,toFront:Ne,toBack:ti,hasClass:tn,addClass:G,removeClass:gt,setClass:Hn,getClass:bi,setOpacity:Rt,testProp:en,setTransform:Re,setPosition:Pt,getPosition:Le,get disableTextSelection(){return xi},get enableTextSelection(){return wi},disableImageDrag:Wn,enableImageDrag:jn,preventOutline:qn,restoreOutline:Ti,getSizedParentNode:io,getScale:Vn};function j(t,e,i,n){if(e&&typeof e=="object")for(var o in e)$n(t,o,e[o],i);else{e=E(e);for(var l=0,u=e.length;l<u;l++)$n(t,e[l],i,n)}return this}var le="_leaflet_events";function ut(t,e,i,n){if(arguments.length===1)Gn(t),delete t[le];else if(e&&typeof e=="object")for(var o in e)Yn(t,o,e[o],i);else if(e=E(e),arguments.length===2)Gn(t,function(f){return mt(e,f)!==-1});else for(var l=0,u=e.length;l<u;l++)Yn(t,e[l],i,n);return this}function Gn(t,e){for(var i in t[le]){var n=i.split(/\d/)[0];(!e||e(n))&&Yn(t,n,null,null,i)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $n(t,e,i,n){var o=e+g(i)+(n?"_"+g(n):"");if(t[le]&&t[le][o])return this;var l=function(f){return i.call(n||t,f||window.event)},u=l;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?l=ha(t,e,l):B.touch&&e==="dblclick"?l=Qr(t,l):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Kn[e]||e,l,B.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(l=function(f){f=f||window.event,Xn(t,f)&&u(f)},t.addEventListener(Kn[e],l,!1)):t.addEventListener(e,u,!1):t.attachEvent("on"+e,l),t[le]=t[le]||{},t[le][o]=l}function Yn(t,e,i,n,o){o=o||e+g(i)+(n?"_"+g(n):"");var l=t[le]&&t[le][o];if(!l)return this;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?da(t,e,l):B.touch&&e==="dblclick"?to(t,l):"removeEventListener"in t?t.removeEventListener(Kn[e]||e,l,!1):t.detachEvent("on"+e,l),t[le][o]=null}function Me(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Jn(t){return $n(t,"wheel",Me),this}function Li(t){return j(t,"mousedown touchstart dblclick contextmenu",Me),t._leaflet_disable_click=!0,this}function Et(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Fe(t){return Et(t),Me(t),this}function no(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function ro(t,e){if(!e)return new H(t.clientX,t.clientY);var i=Vn(e),n=i.boundingClientRect;return new H((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var oo=B.linux&&B.chrome?window.devicePixelRatio:B.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(t){return B.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/oo:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Xn(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var so={__proto__:null,on:j,off:ut,stopPropagation:Me,disableScrollPropagation:Jn,disableClickPropagation:Li,preventDefault:Et,stop:Fe,getPropagationPath:no,getMousePosition:ro,getWheelDelta:ao,isExternalTarget:Xn,addListener:j,removeListener:ut},lo=Te.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Le(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Pt(this._el,i),this.fire("step")},_complete:function(){ct(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Q=Te.extend({options:{crs:pi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=z(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(X(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qe&&B.any3d&&!B.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),j(this._proxy,eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(X(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=d({animate:i.animate},i.zoom),i.pan=d({animate:i.animate,duration:i.duration},i.pan));var n=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(n)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),l=t instanceof H?t:this.latLngToContainerPoint(t),u=l.subtract(o).multiplyBy(1-1/n),f=this.containerPointToLatLng(o.add(u));return this.setView(f,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():vt(t);var i=R(e.paddingTopLeft||e.padding||[0,0]),n=R(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if(o=typeof e.maxZoom=="number"?Math.min(e.maxZoom,o):o,o===1/0)return{center:t.getCenter(),zoom:o};var l=n.subtract(i).divideBy(2),u=this.project(t.getSouthWest(),o),f=this.project(t.getNorthEast(),o),v=this.unproject(u.add(f).divideBy(2).add(l),o);return{center:v,zoom:o}},fitBounds:function(t,e){if(t=vt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=R(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){G(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!B.any3d)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),o=this.project(t),l=this.getSize(),u=this._zoom;t=X(t),e=e===void 0?u:e;var f=Math.max(l.x,l.y),v=f*this.getZoomScale(u,e),x=o.distanceTo(n)||1,C=1.42,Z=C*C;function W(st){var Bt=st?-1:1,qe=st?v:f,zi=v*v-f*f+Bt*Z*Z*x*x,Oi=2*qe*Z*x,Ve=zi/Oi,fe=Math.sqrt(Ve*Ve+1)-Ve,wt=fe<1e-9?-18:Math.log(fe);return wt}function xt(st){return(Math.exp(st)-Math.exp(-st))/2}function ht(st){return(Math.exp(st)+Math.exp(-st))/2}function Lt(st){return xt(st)/ht(st)}var Tt=W(0);function $t(st){return f*(ht(Tt)/ht(Tt+C*st))}function Ue(st){return f*(ht(Tt)*Lt(Tt+C*st)-xt(Tt))/Z}function Mt(st){return 1-Math.pow(1-st,1.5)}var Wt=Date.now(),Yt=(W(1)-Tt)/C,ke=i.duration?1e3*i.duration:1e3*Yt*.8;function Jt(){var st=(Date.now()-Wt)/ke,Bt=Mt(st)*Yt;st<=1?(this._flyToFrame=K(Jt,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(Ue(Bt)/x)),u),this.getScaleZoom(f/$t(Bt),u),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Jt.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=vt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,vt(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=R(e.paddingTopLeft||e.padding||[0,0]),n=R(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),l=this.project(t),u=this.getPixelBounds(),f=Ot([u.min.add(i),u.max.subtract(n)]),v=f.getSize();if(!f.contains(l)){this._enforcingBounds=!0;var x=l.subtract(f.getCenter()),C=f.extend(l).getSize().subtract(v);o.x+=x.x<0?-C.x:C.x,o.y+=x.y<0?-C.y:C.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=d({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),l=n.subtract(o);return!l.x&&!l.y?this:(t.animate&&t.pan?this.panBy(l):(t.pan&&this._rawPanBy(l),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=d({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=_(this._handleGeolocationResponse,this),i=_(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,n=new at(e,i),o=n.toBounds(t.coords.accuracy*2),l=this._locateOptions;if(l.setView){var u=this.getBoundsZoom(o);this.setView(n,l.maxZoom?Math.min(u,l.maxZoom):u)}var f={latlng:n,bounds:o,timestamp:t.timestamp};for(var v in t.coords)typeof t.coords[v]=="number"&&(f[v]=t.coords[v]);this.fire("locationfound",f)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ct(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)dt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=et("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new It(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=vt(t),i=R(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),l=this.getMaxZoom(),u=t.getNorthWest(),f=t.getSouthEast(),v=this.getSize().subtract(i),x=Ot(this.project(f,n),this.project(u,n)).getSize(),C=B.any3d?this.options.zoomSnap:1,Z=v.x/x.x,W=v.y/x.y,xt=e?Math.max(Z,W):Math.min(Z,W);return n=this.getScaleZoom(xt,n),C&&(n=Math.round(n/(C/100))*(C/100),n=e?Math.ceil(n/C)*C:Math.floor(n/C)*C),Math.max(o,Math.min(l,n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new ft(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(X(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(X(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(X(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(vt(t))},distance:function(t,e){return this.options.crs.distance(X(t),X(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(t)))},mouseEventToContainerPoint:function(t){return ro(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Fn(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");j(e,"scroll",this._onScroll,this),this._containerId=g(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&B.any3d,G(t,"leaflet-container"+(B.touch?" leaflet-touch":"")+(B.retina?" leaflet-retina":"")+(B.ielt9?" leaflet-oldie":"")+(B.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=yi(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(t.markerPane,"leaflet-zoom-hide"),G(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Pt(this._mapPane,new H(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,i)._move(t,e)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,n){e===void 0&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),n?i&&i.pinch&&this.fire("zoom",i):((o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ct(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[g(this._container)]=this;var e=t?ut:j;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),B.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ct(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],n,o=e==="mouseout"||e==="mouseover",l=t.target||t.srcElement,u=!1;l;){if(n=this._targets[g(l)],n&&(e==="click"||e==="preclick")&&this._draggableMoved(n)){u=!0;break}if(n&&n.listens(e,!0)&&(o&&!Xn(l,t)||(i.push(n),o))||l===this._container)break;l=l.parentNode}return!i.length&&!u&&!o&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&qn(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var n=d({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}var o=this._findEventTargets(t,e);if(i){for(var l=[],u=0;u<i.length;u++)i[u].listens(e,!0)&&l.push(i[u]);o=l.concat(o)}if(o.length){e==="contextmenu"&&Et(t);var f=o[0],v={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var x=f.getLatLng&&(!f._radius||f._radius<=10);v.containerPoint=x?this.latLngToContainerPoint(f.getLatLng()):this.mouseEventToContainerPoint(t),v.layerPoint=this.containerPointToLayerPoint(v.containerPoint),v.latlng=x?f.getLatLng():this.layerPointToLatLng(v.layerPoint)}for(u=0;u<o.length;u++)if(o[u].fire(e,v,!0),v.originalEvent._stopped||o[u].options.bubblingMouseEvents===!1&&mt(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Le(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return Ot([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),l=new ft(n.subtract(o),n.add(o)),u=this._getBoundsOffset(l,i,e);return Math.abs(u.x)<=1&&Math.abs(u.y)<=1?t:this.unproject(n.add(u),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new ft(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=Ot(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),l=n.max.subtract(t.max),u=this._rebound(o.x,-l.x),f=this._rebound(o.y,-l.y);return new H(u,f)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=B.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=Rn,n=this._proxy.style[i];Re(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Re(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return i.animate!==!0&&!this.getSize().contains(o)?!1:(K(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ga(t,e){return new Q(t,e)}var Qt=At.extend({options:{position:"topright"},initialize:function(t){z(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return G(e,"leaflet-control"),i.indexOf("bottom")!==-1?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Mi=function(t){return new Qt(t)};Q.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=et("div",e+"control-container",this._container);function n(o,l){var u=e+o+" "+e+l;t[o+l]=et("div",u,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)dt(this._controlCorners[t]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uo=Qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){z(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(g(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=et("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Li(e),Jn(e);var n=this._section=et("section",t+"-list");i&&(this._map.on("click",this.collapse,this),j(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=et("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),j(o,{keydown:function(l){l.keyCode===13&&this._expandSafely()},click:function(l){Et(l),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=et("div",t+"-base",n),this._separator=et("div",t+"-separator",n),this._overlaysList=et("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&g(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(_(function(n,o){return this.options.sortFunction(n.layer,o.layer,n.name,o.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qi(this._baseLayersList),Qi(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(g(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),n;t.overlay?(n=document.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=i):n=this._createRadioElement("leaflet-base-layers_"+g(this),i),this._layerControlInputs.push(n),n.layerId=g(t.layer),j(n,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var l=document.createElement("span");e.appendChild(l),l.appendChild(n),l.appendChild(o);var u=t.overlay?this._overlaysList:this._baseLayersList;return u.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,n=[],o=[];this._handlingClick=!0;for(var l=t.length-1;l>=0;l--)e=t[l],i=this._getLayer(e.layerId).layer,e.checked?n.push(i):e.checked||o.push(i);for(l=0;l<o.length;l++)this._map.hasLayer(o[l])&&this._map.removeLayer(o[l]);for(l=0;l<n.length;l++)this._map.hasLayer(n[l])||this._map.addLayer(n[l]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,n=this._map.getZoom(),o=t.length-1;o>=0;o--)e=t[o],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&n<i.options.minZoom||i.options.maxZoom!==void 0&&n>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,j(t,"click",Et),this.expand();var e=this;setTimeout(function(){ut(t,"click",Et),e._preventClick=!1})}}),ho=function(t,e,i){return new uo(t,e,i)},Qn=Qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=et("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var l=et("a",i,n);return l.innerHTML=t,l.href="#",l.title=e,l.setAttribute("role","button"),l.setAttribute("aria-label",e),Li(l),j(l,"click",Fe),j(l,"click",o,this),j(l,"click",this._refocusOnMap,this),l},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";gt(this._zoomInButton,e),gt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(G(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(G(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Q.mergeOptions({zoomControl:!0}),Q.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qn,this.addControl(this.zoomControl))});var ya=function(t){return new Qn(t)},co=Qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=et("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=et("div",e,i)),t.imperial&&(this._iScale=et("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,n,o;e>5280?(i=e/5280,n=this._getRoundNum(i),this._updateScale(this._iScale,n+" mi",n/i)):(o=this._getRoundNum(e),this._updateScale(this._iScale,o+" ft",o/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),fo=function(t){return new co(t)},ba='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',rn=Qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(B.inlineSvg?ba+" ":"")+"Leaflet</a>"},initialize:function(t){z(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=et("div","leaflet-control-attribution"),Li(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Q.mergeOptions({attributionControl:!0}),Q.addInitHook(function(){this.options.attributionControl&&new rn().addTo(this)});var po=function(t){return new rn(t)};Qt.Layers=uo,Qt.Zoom=Qn,Qt.Scale=co,Qt.Attribution=rn,Mi.layers=ho,Mi.zoom=ya,Mi.scale=fo,Mi.attribution=po;var ue=At.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ue.addTo=function(t,e){return t.addHandler(e,this),this};var xa={Events:Ct},mo=B.touch?"touchstart mousedown":"mousedown",Ee=Te.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){z(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(j(this._dragStartTarget,mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ee._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!tn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ee._dragging===this&&this.finishDrag();return}if(!(Ee._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ee._dragging=this,this._preventOutline&&qn(this._element),Wn(),xi(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=io(this._element);this._startPoint=new H(e.clientX,e.clientY),this._startPos=Le(this._element),this._parentScale=Vn(i);var n=t.type==="mousedown";j(document,n?"mousemove":"touchmove",this._onMove,this),j(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new H(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Et(t),this._moved||(this.fire("dragstart"),this._moved=!0,G(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){gt(document.body,"leaflet-dragging"),this._lastTarget&&(gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),jn(),wi();var e=this._moved&&this._moving;this._moving=!1,Ee._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function tr(t,e,i){var n,o=[1,4,2,8],l,u,f,v,x,C,Z,W;for(l=0,C=t.length;l<C;l++)t[l]._code=He(t[l],e);for(f=0;f<4;f++){for(Z=o[f],n=[],l=0,C=t.length,u=C-1;l<C;u=l++)v=t[l],x=t[u],v._code&Z?x._code&Z||(W=on(x,v,Z,e,i),W._code=He(W,e),n.push(W)):(x._code&Z&&(W=on(x,v,Z,e,i),W._code=He(W,e),n.push(W)),n.push(v));t=n}return t}function _o(t,e){var i,n,o,l,u,f,v,x,C;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Z=X([0,0]),W=vt(t),xt=W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest());xt<1700&&(Z=er(t));var ht=t.length,Lt=[];for(i=0;i<ht;i++){var Tt=X(t[i]);Lt.push(e.project(X([Tt.lat-Z.lat,Tt.lng-Z.lng])))}for(f=v=x=0,i=0,n=ht-1;i<ht;n=i++)o=Lt[i],l=Lt[n],u=o.y*l.x-l.y*o.x,v+=(o.x+l.x)*u,x+=(o.y+l.y)*u,f+=u*3;f===0?C=Lt[0]:C=[v/f,x/f];var $t=e.unproject(R(C));return X([$t.lat+Z.lat,$t.lng+Z.lng])}function er(t){for(var e=0,i=0,n=0,o=0;o<t.length;o++){var l=X(t[o]);e+=l.lat,i+=l.lng,n++}return X([e/n,i/n])}var vo={__proto__:null,clipPolygon:tr,polygonCenter:_o,centroid:er};function go(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=ka(t,i),t=wa(t,i),t}function yo(t,e,i){return Math.sqrt(ei(t,e,i,!0))}function bo(t,e,i){return ei(t,e,i)}function wa(t,e){var i=t.length,n=typeof Uint8Array<"u"?Uint8Array:Array,o=new n(i);o[0]=o[i-1]=1,ir(t,o,e,0,i-1);var l,u=[];for(l=0;l<i;l++)o[l]&&u.push(t[l]);return u}function ir(t,e,i,n,o){var l=0,u,f,v;for(f=n+1;f<=o-1;f++)v=ei(t[f],t[n],t[o],!0),v>l&&(u=f,l=v);l>i&&(e[u]=1,ir(t,e,i,n,u),ir(t,e,i,u,o))}function ka(t,e){for(var i=[t[0]],n=1,o=0,l=t.length;n<l;n++)Pa(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<l-1&&i.push(t[l-1]),i}var xo;function wo(t,e,i,n,o){var l=n?xo:He(t,i),u=He(e,i),f,v,x;for(xo=u;;){if(!(l|u))return[t,e];if(l&u)return!1;f=l||u,v=on(t,e,f,i,o),x=He(v,i),f===l?(t=v,l=x):(e=v,u=x)}}function on(t,e,i,n,o){var l=e.x-t.x,u=e.y-t.y,f=n.min,v=n.max,x,C;return i&8?(x=t.x+l*(v.y-t.y)/u,C=v.y):i&4?(x=t.x+l*(f.y-t.y)/u,C=f.y):i&2?(x=v.x,C=t.y+u*(v.x-t.x)/l):i&1&&(x=f.x,C=t.y+u*(f.x-t.x)/l),new H(x,C,o)}function He(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Pa(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function ei(t,e,i,n){var o=e.x,l=e.y,u=i.x-o,f=i.y-l,v=u*u+f*f,x;return v>0&&(x=((t.x-o)*u+(t.y-l)*f)/v,x>1?(o=i.x,l=i.y):x>0&&(o+=u*x,l+=f*x)),u=t.x-o,f=t.y-l,n?u*u+f*f:new H(o,l)}function Gt(t){return!b(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function nr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(t)}function ko(t,e){var i,n,o,l,u,f,v,x;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var C=X([0,0]),Z=vt(t),W=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());W<1700&&(C=er(t));var xt=t.length,ht=[];for(i=0;i<xt;i++){var Lt=X(t[i]);ht.push(e.project(X([Lt.lat-C.lat,Lt.lng-C.lng])))}for(i=0,n=0;i<xt-1;i++)n+=ht[i].distanceTo(ht[i+1])/2;if(n===0)x=ht[0];else for(i=0,l=0;i<xt-1;i++)if(u=ht[i],f=ht[i+1],o=u.distanceTo(f),l+=o,l>n){v=(l-n)/o,x=[f.x-v*(f.x-u.x),f.y-v*(f.y-u.y)];break}var Tt=e.unproject(R(x));return X([Tt.lat+C.lat,Tt.lng+C.lng])}var Ta={__proto__:null,simplify:go,pointToSegmentDistance:yo,closestPointOnSegment:bo,clipSegment:wo,_getEdgeIntersection:on,_getBitCode:He,_sqClosestPointOnSegment:ei,isFlat:Gt,_flat:nr,polylineCenter:ko},Ei={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new at(t.y,t.x)},bounds:new ft([-180,-90],[180,90])},rr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,l=Math.sqrt(1-o*o),u=l*Math.sin(n),f=Math.tan(Math.PI/4-n/2)/Math.pow((1-u)/(1+u),l/2);return n=-i*Math.log(Math.max(f,1e-10)),new H(t.lng*e*i,n)},unproject:function(t){for(var e=180/Math.PI,i=this.R,n=this.R_MINOR/i,o=Math.sqrt(1-n*n),l=Math.exp(-t.y/i),u=Math.PI/2-2*Math.atan(l),f=0,v=.1,x;f<15&&Math.abs(v)>1e-7;f++)x=o*Math.sin(u),x=Math.pow((1-x)/(1+x),o/2),v=Math.PI/2-2*Math.atan(l*x)-u,u+=v;return new at(u*e,t.x*e/i)}},Po={__proto__:null,LonLat:Ei,Mercator:rr,SphericalMercator:Pn},La=d({},ye,{code:"EPSG:3395",projection:rr,transformation:(function(){var t=.5/(Math.PI*rr.R);return Je(t,.5,-t,.5)})()}),an=d({},ye,{code:"EPSG:4326",projection:Ei,transformation:Je(1/180,1,-1/180,.5)}),To=d({},ae,{projection:Ei,transformation:Je(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});ae.Earth=ye,ae.EPSG3395=La,ae.EPSG3857=pi,ae.EPSG900913=Br,ae.EPSG4326=an,ae.Simple=To;var te=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[g(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[g(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Q.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=g(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=g(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return g(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?b(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[g(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=g(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=o.minZoom===void 0?t:Math.min(t,o.minZoom),e=o.maxZoom===void 0?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var We=te.extend({initialize:function(t,e){z(this,e),this._layers={};var i,n;if(t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,n;for(i in this._layers)n=this._layers[i],n[t]&&n[t].apply(n,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return g(t)}}),Lo=function(t,e){return new We(t,e)},he=We.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),We.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),We.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new It;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),or=function(t,e){return new he(t,e)},Se=At.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){z(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(n,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];typeof n=="number"&&(n=[n,n]);var o=R(n),l=R(e==="shadow"&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),l&&(t.style.marginLeft=-l.x+"px",t.style.marginTop=-l.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return B.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ar(t){return new Se(t)}var ii=Se.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ii.imagePath!="string"&&(ii.imagePath=this._detectIconPath()),(this.options.imagePath||ii.imagePath)+Se.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,n,o){var l=n.exec(i);return l&&l[o]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=et("div","leaflet-default-icon-path",document.body),e=yi(t,"background-image")||yi(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),sr=ue.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ee(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,l=Le(e._icon),u=i.getPixelBounds(),f=i.getPixelOrigin(),v=Ot(u.min._subtract(f).add(o),u.max._subtract(f).subtract(o));if(!v.contains(l)){var x=R((Math.max(v.max.x,l.x)-v.max.x)/(u.max.x-v.max.x)-(Math.min(v.min.x,l.x)-v.min.x)/(u.min.x-v.min.x),(Math.max(v.max.y,l.y)-v.max.y)/(u.max.y-v.max.y)-(Math.min(v.min.y,l.y)-v.min.y)/(u.min.y-v.min.y)).multiplyBy(n);i.panBy(x,{animate:!1}),this._draggable._newPos._add(x),this._draggable._startPos._add(x),Pt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=K(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ct(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=Le(e._icon),o=e._map.layerPointToLatLng(n);i&&Pt(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ct(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Si=te.extend({options:{icon:new ii,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){z(this,e),this._latlng=X(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=X(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),G(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&j(i,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),l=!1;o!==this._shadow&&(this._removeShadow(),l=!0),o&&(G(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&l&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pt(this._icon,t),this._shadow&&Pt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Rt(this._icon,t),this._shadow&&Rt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?R(e.iconSize):R(0,0),n=e.iconAnchor?R(e.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lr(t,e){return new Si(t,e)}var de=te.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return z(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ni=de.extend({options:{fill:!0,radius:10},initialize:function(t,e){z(this,e),this._latlng=X(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=X(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return de.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new ft(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mo(t,e){return new ni(t,e)}var ur=ni.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=d({},i,{radius:e})),z(this,e),this._latlng=X(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new It(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:de.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===ye.distance){var o=Math.PI/180,l=this._mRadius/ye.R/o,u=i.project([e+l,t]),f=i.project([e-l,t]),v=u.add(f).divideBy(2),x=i.unproject(v).lat,C=Math.acos((Math.cos(l*o)-Math.sin(e*o)*Math.sin(x*o))/(Math.cos(e*o)*Math.cos(x*o)))/o;(isNaN(C)||C===0)&&(C=l/Math.cos(Math.PI/180*e)),this._point=v.subtract(i.getPixelOrigin()),this._radius=isNaN(C)?0:v.x-i.project([x,t-C]).x,this._radiusY=v.y-u.y}else{var Z=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(Z).x}this._updateBounds()}});function Ma(t,e,i){return new ur(t,e,i)}var be=de.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){z(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,n=ei,o,l,u=0,f=this._parts.length;u<f;u++)for(var v=this._parts[u],x=1,C=v.length;x<C;x++){o=v[x-1],l=v[x];var Z=n(t,o,l,!0);Z<e&&(e=Z,i=n(t,o,l))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ko(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=X(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new It,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Gt(t),n=0,o=t.length;n<o;n++)i?(e[n]=X(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new H(t,t);this._rawPxBounds&&(this._pxBounds=new ft([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var n=t[0]instanceof at,o=t.length,l,u;if(n){for(u=[],l=0;l<o;l++)u[l]=this._map.latLngToLayerPoint(t[l]),i.extend(u[l]);e.push(u)}else for(l=0;l<o;l++)this._projectLatlngs(t[l],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,n,o,l,u,f,v;for(i=0,o=0,l=this._rings.length;i<l;i++)for(v=this._rings[i],n=0,u=v.length;n<u-1;n++)f=wo(v[n],v[n+1],t,n,!0),f&&(e[o]=e[o]||[],e[o].push(f[0]),(f[1]!==v[n+1]||n===u-2)&&(e[o].push(f[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=go(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,l,u,f,v=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,l=this._parts.length;i<l;i++)for(f=this._parts[i],n=0,u=f.length,o=u-1;n<u;o=n++)if(!(!e&&n===0)&&yo(t,f[o],f[n])<=v)return!0;return!1}});function Ea(t,e){return new be(t,e)}be._flat=nr;var ri=be.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _o(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=be.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof at&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){be.prototype._setLatLngs.call(this,t),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new H(e,e);if(t=new ft(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var n=0,o=this._rings.length,l;n<o;n++)l=tr(this._rings[n],t,!0),l.length&&this._parts.push(l)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,n,o,l,u,f,v,x;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(l=0,v=this._parts.length;l<v;l++)for(i=this._parts[l],u=0,x=i.length,f=x-1;u<x;f=u++)n=i[u],o=i[f],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(e=!e);return e||be.prototype._containsPoint.call(this,t,!0)}});function Sa(t,e){return new ri(t,e)}var xe=he.extend({initialize:function(t,e){z(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=b(t)?t:t.features,i,n,o;if(e){for(i=0,n=e.length;i<n;i++)o=e[i],(o.geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var l=this.options;if(l.filter&&!l.filter(t))return this;var u=sn(t,l);return u?(u.feature=dn(t),u.defaultOptions=u.options,this.resetStyle(u),l.onEachFeature&&l.onEachFeature(t,u),this.addLayer(u)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=d({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function sn(t,e){var i=t.type==="Feature"?t.geometry:t,n=i?i.coordinates:null,o=[],l=e&&e.pointToLayer,u=e&&e.coordsToLatLng||ln,f,v,x,C;if(!n&&!i)return null;switch(i.type){case"Point":return f=u(n),hr(l,t,f,e);case"MultiPoint":for(x=0,C=n.length;x<C;x++)f=u(n[x]),o.push(hr(l,t,f,e));return new he(o);case"LineString":case"MultiLineString":return v=oi(n,i.type==="LineString"?0:1,u),new be(v,e);case"Polygon":case"MultiPolygon":return v=oi(n,i.type==="Polygon"?1:2,u),new ri(v,e);case"GeometryCollection":for(x=0,C=i.geometries.length;x<C;x++){var Z=sn({geometry:i.geometries[x],type:"Feature",properties:t.properties},e);Z&&o.push(Z)}return new he(o);case"FeatureCollection":for(x=0,C=i.features.length;x<C;x++){var W=sn(i.features[x],e);W&&o.push(W)}return new he(o);default:throw new Error("Invalid GeoJSON object.")}}function hr(t,e,i,n){return t?t(e,i):new Si(i,n&&n.markersInheritOptions&&n)}function ln(t){return new at(t[1],t[0],t[2])}function oi(t,e,i){for(var n=[],o=0,l=t.length,u;o<l;o++)u=e?oi(t[o],e-1,i):(i||ln)(t[o]),n.push(u);return n}function un(t,e){return t=X(t),t.alt!==void 0?[I(t.lng,e),I(t.lat,e),I(t.alt,e)]:[I(t.lng,e),I(t.lat,e)]}function hn(t,e,i,n){for(var o=[],l=0,u=t.length;l<u;l++)o.push(e?hn(t[l],Gt(t[l])?0:e-1,i,n):un(t[l],n));return!e&&i&&o.length>0&&o.push(o[0].slice()),o}function ai(t,e){return t.feature?d({},t.feature,{geometry:e}):dn(e)}function dn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var dr={toGeoJSON:function(t){return ai(this,{type:"Point",coordinates:un(this.getLatLng(),t)})}};Si.include(dr),ur.include(dr),ni.include(dr),be.include({toGeoJSON:function(t){var e=!Gt(this._latlngs),i=hn(this._latlngs,e?1:0,!1,t);return ai(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),ri.include({toGeoJSON:function(t){var e=!Gt(this._latlngs),i=e&&!Gt(this._latlngs[0]),n=hn(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),ai(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),We.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),ai(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",n=[];return this.eachLayer(function(o){if(o.toGeoJSON){var l=o.toGeoJSON(t);if(i)n.push(l.geometry);else{var u=dn(l);u.type==="FeatureCollection"?n.push.apply(n,u.features):n.push(u)}}}),i?ai(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});function cr(t,e){return new xe(t,e)}var Eo=cr,Ci=te.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=vt(e),z(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ne(this._image),this},bringToBack:function(){return this._map&&ti(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=vt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:et("img");if(G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=M,e.onmousemove=M,e.onload=_(this.fire,this,"load"),e.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Re(this._image,i,e)},_reset:function(){var t=this._image,e=new ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Pt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),So=function(t,e,i){return new Ci(t,e,i)},Co=Ci.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:et("video");if(G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=M,e.onmousemove=M,e.onloadeddata=_(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=i.length>0?n:[e.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var l=0;l<this._url.length;l++){var u=et("source");u.src=this._url[l],e.appendChild(u)}}});function Ca(t,e,i){return new Co(t,e,i)}var Ao=Ci.extend({_initImage:function(){var t=this._image=this._url;G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=M,t.onmousemove=M}});function Io(t,e,i){return new Ao(t,e,i)}var ce=te.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof at||b(t))?(this._latlng=X(t),z(this,e)):(z(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Rt(this._container,1),this.bringToFront(),this.options.interactive&&(G(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Rt(this._container,0),this._removeTimeout=setTimeout(_(dt,void 0,this._container),200)):dt(this._container),this.options.interactive&&(gt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=X(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ne(this._container),this},bringToBack:function(){return this._map&&ti(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof he){e=null;var i=this._source._layers;for(var n in i)if(i[n]._map){e=i[n];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),i=this._getAnchor();this._zoomAnimated?Pt(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});Q.include({_initOverlay:function(t,e,i,n){var o=e;return o instanceof t||(o=new t(n).setContent(e)),i&&o.setLatLng(i),o}}),te.include({_initOverlay:function(t,e,i,n){var o=i;return o instanceof t?(z(o,n),o._source=this):(o=e&&!n?e:new t(n,this),o.setContent(i)),o}});var Ai=ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ce.prototype.openOn.call(this,t)},onAdd:function(t){ce.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof de||this._source.on("preclick",Me))},onRemove:function(t){ce.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof de||this._source.off("preclick",Me))},getEvents:function(){var t=ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=et("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=et("div",t+"-content-wrapper",e);if(this._contentNode=et("div",t+"-content",i),Li(e),Jn(this._contentNode),j(e,"contextmenu",Me),this._tipContainer=et("div",t+"-tip-container",e),this._tip=et("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=et("a",t+"-close-button",e);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',j(n,"click",function(o){Et(o),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,l="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",G(t,l)):gt(t,l),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Pt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(yi(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new H(this._containerLeft,-i-this._containerBottom);o._add(Le(this._container));var l=t.layerPointToContainerPoint(o),u=R(this.options.autoPanPadding),f=R(this.options.autoPanPaddingTopLeft||u),v=R(this.options.autoPanPaddingBottomRight||u),x=t.getSize(),C=0,Z=0;l.x+n+v.x>x.x&&(C=l.x+n-x.x+v.x),l.x-C-f.x<0&&(C=l.x-f.x),l.y+i+v.y>x.y&&(Z=l.y+i-x.y+v.y),l.y-Z-f.y<0&&(Z=l.y-f.y),(C||Z)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([C,Z]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zo=function(t,e){return new Ai(t,e)};Q.mergeOptions({closePopupOnClick:!0}),Q.include({openPopup:function(t,e,i){return this._initOverlay(Ai,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),te.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ai,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof he||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Fe(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof de)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ii=ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ce.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ce.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ce.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,o=this._container,l=n.latLngToContainerPoint(n.getCenter()),u=n.layerPointToContainerPoint(t),f=this.options.direction,v=o.offsetWidth,x=o.offsetHeight,C=R(this.options.offset),Z=this._getAnchor();f==="top"?(e=v/2,i=x):f==="bottom"?(e=v/2,i=0):f==="center"?(e=v/2,i=x/2):f==="right"?(e=0,i=x/2):f==="left"?(e=v,i=x/2):u.x<l.x?(f="right",e=0,i=x/2):(f="left",e=v+(C.x+Z.x)*2,i=x/2),t=t.subtract(R(e,i,!0)).add(C).add(Z),gt(o,"leaflet-tooltip-right"),gt(o,"leaflet-tooltip-left"),gt(o,"leaflet-tooltip-top"),gt(o,"leaflet-tooltip-bottom"),G(o,"leaflet-tooltip-"+f),Pt(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Rt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Aa=function(t,e){return new Ii(t,e)};Q.include({openTooltip:function(t,e,i){return this._initOverlay(Ii,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),te.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ii,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof he||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(j(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),j(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,n;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(e)}});var cn=Se.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(Qi(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var n=R(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function fr(t){return new cn(t)}Se.Default=ii;var je=te.extend({options:{tileSize:256,opacity:1,updateWhenIdle:B.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){z(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),dt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ne(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),n=0,o=e.length,l;n<o;n++)l=e[n].style.zIndex,e[n]!==this._container&&l&&(i=t(i,+l));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!B.ielt9){Rt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(!(!o.current||!o.loaded)){var l=Math.min(1,(t-o.loaded)/200);Rt(o.el,l),l<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(ct(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:M,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(dt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||(n=this._levels[t]={},n.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),M(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:M,_onRemoveLevel:M,_onCreateLevel:M,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)dt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),l=Math.floor(e/2),u=i-1,f=new H(+o,+l);f.z=+u;var v=this._tileCoordsToKey(f),x=this._tiles[v];return x&&x.active?(x.retain=!0,!0):(x&&x.loaded&&(x.retain=!0),u>n?this._retainParent(o,l,u,n):!1)},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var l=2*e;l<2*e+2;l++){var u=new H(o,l);u.z=i+1;var f=this._tileCoordsToKey(u),v=this._tiles[f];if(v&&v.active){v.retain=!0;continue}else v&&v.loaded&&(v.retain=!0);i+1<n&&this._retainChildren(o,l,i+1,n)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=Math.round(e);this.options.maxZoom!==void 0&&o>this.options.maxZoom||this.options.minZoom!==void 0&&o<this.options.minZoom?o=void 0:o=this._clampZoom(o);var l=this.options.updateWhenZooming&&o!==this._tileZoom;(!n||l)&&(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();B.any3d?Re(t.el,o,n):Pt(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),l=e.getSize().divideBy(n*2);return new ft(o.subtract(l),o.add(l))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),l=o.getCenter(),u=[],f=this.options.keepBuffer,v=new ft(o.getBottomLeft().subtract([f,-f]),o.getTopRight().add([f,-f]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var x in this._tiles){var C=this._tiles[x].coords;(C.z!==this._tileZoom||!v.contains(new H(C.x,C.y)))&&(this._tiles[x].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var Z=o.min.y;Z<=o.max.y;Z++)for(var W=o.min.x;W<=o.max.x;W++){var xt=new H(W,Z);if(xt.z=this._tileZoom,!!this._isValidTile(xt)){var ht=this._tiles[this._tileCoordsToKey(xt)];ht?ht.current=!0:u.push(xt)}}if(u.sort(function(Tt,$t){return Tt.distanceTo(l)-$t.distanceTo(l)}),u.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Lt=document.createDocumentFragment();for(W=0;W<u.length;W++)this._addTile(u[W],Lt);this._level.el.appendChild(Lt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return vt(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i),l=e.unproject(n,t.z),u=e.unproject(o,t.z);return[l,u]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new It(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new H(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(dt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){G(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=M,t.onmousemove=M,B.ielt9&&this.options.opacity<1&&Rt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),_(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&K(_(this._tileReady,this,t,null,o)),Pt(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Rt(i.el,0),ct(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(G(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),B.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new H(this._wrapX?A(t.x,this._wrapX):t.x,this._wrapY?A(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new ft(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Oo(t){return new je(t)}var si=je.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=z(this,e),e.detectRetina&&B.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return j(i,"load",_(this._tileOnLoad,this,e,i)),j(i,"error",_(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:B.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return Y(this._url,d(e,this.options))},_tileOnLoad:function(t,e){B.ielt9?setTimeout(_(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=M,e.onerror=M,!e.complete)){e.src=_t;var i=this._tiles[t].coords;dt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_t),je.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===_t))return je.prototype._tileReady.call(this,t,e,i)}});function Bo(t,e){return new si(t,e)}var pr=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=d({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=z(this,e);var o=e.detectRetina&&B.retina?2:1,l=this.getTileSize();i.width=l.x*o,i.height=l.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,si.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=Ot(i.project(e[0]),i.project(e[1])),o=n.min,l=n.max,u=(this._wmsVersion>=1.3&&this._crs===an?[o.y,o.x,l.y,l.x]:[o.x,o.y,l.x,l.y]).join(","),f=si.prototype.getTileUrl.call(this,t);return f+V(this.wmsParams,f,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+u},setParams:function(t,e){return d(this.wmsParams,t),e||this.redraw(),this}});function Ia(t,e){return new pr(t,e)}si.WMS=pr,Bo.wms=Ia;var we=te.extend({options:{padding:.1},initialize:function(t){z(this,t),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),l=n.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(t,e));B.any3d?Re(this._container,l,i):Pt(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new ft(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zo=we.extend({options:{tolerance:0},getEvents:function(){var t=we.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){we.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");j(t,"mousemove",this._onMouseMove,this),j(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),j(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ct(this._redrawRequest),delete this._ctx,dt(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=B.retina?2:1;Pt(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",B.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){we.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[g(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[g(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],n,o;for(o=0;o<e.length;o++){if(n=Number(e[o]),isNaN(n))return;i.push(n)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ft,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,l,u=t._parts,f=u.length,v=this._ctx;if(f){for(v.beginPath(),i=0;i<f;i++){for(n=0,o=u[i].length;n<o;n++)l=u[i][n],v[n?"lineTo":"moveTo"](l.x,l.y);e&&v.closePath()}this._fillStroke(v,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;o!==1&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,Math.PI*2,!1),o!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,n,o=this._drawFirst;o;o=o.next)i=o.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(n=i);this._fireEvent(n?[n]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(gt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,n,o=this._drawFirst;o;o=o.next)i=o.layer,i.options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(G(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;if(i)i.prev=n;else return;n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;if(n)n.next=i;else return;i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function w(t){return B.canvas?new Zo(t):null}var S=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),D={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(we.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=S("shape");G(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=S("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;dt(e),t.removeInteractiveTarget(e),delete this._layers[g(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=S("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=b(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=S("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ne(t._container)},_bringToBack:function(t){ti(t._container)}},U=B.vml?S:mi,N=we.extend({_initContainer:function(){this._container=U("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=U("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Pt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=U("path");t.options.className&&G(e,t.options.className),t.options.interactive&&G(e,"leaflet-interactive"),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){dt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[g(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Tn(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY),1)||i,o="a"+i+","+n+" 0 1,0 ",l=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+i*2+",0 "+o+-i*2+",0 ";this._setPath(t,l)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ne(t._path)},_bringToBack:function(t){ti(t._path)}});B.vml&&N.include(D);function F(t){return B.svg||B.vml?new N(t):null}Q.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&w(t)||F(t)}});var $=ri.extend({initialize:function(t,e){ri.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=vt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function rt(t,e){return new $(t,e)}N.create=U,N.pointsToPath=Tn,xe.geometryToLayer=sn,xe.coordsToLatLng=ln,xe.coordsToLatLngs=oi,xe.latLngToCoords=un,xe.latLngsToCoords=hn,xe.getFeature=ai,xe.asFeature=dn,Q.mergeOptions({boxZoom:!0});var pt=ue.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){j(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xi(),Wn(),this._startPoint=this._map.mouseEventToContainerPoint(t),j(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new ft(this._point,this._startPoint),i=e.getSize();Pt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(dt(this._box),gt(this._container,"leaflet-crosshair")),wi(),jn(),ut(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var e=new It(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Q.addInitHook("addHandler","boxZoom",pt),Q.mergeOptions({doubleClickZoom:!0});var yt=ue.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;e.options.doubleClickZoom==="center"?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Q.addInitHook("addHandler","doubleClickZoom",yt),Q.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bt=ue.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ee(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gt(this._map._container,"leaflet-grab"),gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=vt(this._map.options.maxBounds);this._offsetLimit=Ot(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,l=(n+e+i)%t-e-i,u=Math.abs(o+i)<Math.abs(l+i)?o:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=u},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,u=i.easeLinearity,f=o.multiplyBy(u/l),v=f.distanceTo([0,0]),x=Math.min(i.inertiaMaxSpeed,v),C=f.multiplyBy(x/v),Z=x/(i.inertiaDeceleration*u),W=C.multiplyBy(-Z/2).round();!W.x&&!W.y?e.fire("moveend"):(W=e._limitOffset(W,e.options.maxBounds),K(function(){e.panBy(W,{duration:Z,easeLinearity:u,noMoveStart:!0,animate:!0})}))}}});Q.addInitHook("addHandler","dragging",bt),Q.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ft=ue.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),j(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,n,o;for(n=0,o=i.left.length;n<o;n++)e[i.left[n]]=[-1*t,0];for(n=0,o=i.right.length;n<o;n++)e[i.right[n]]=[t,0];for(n=0,o=i.down.length;n<o;n++)e[i.down[n]]=[0,t];for(n=0,o=i.up.length;n<o;n++)e[i.up[n]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,n,o;for(n=0,o=i.zoomIn.length;n<o;n++)e[i.zoomIn[n]]=t;for(n=0,o=i.zoomOut.length;n<o;n++)e[i.zoomOut[n]]=-t},_addHooks:function(){j(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,n;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(n=this._panKeys[e],t.shiftKey&&(n=R(n).multiplyBy(3)),i.options.maxBounds&&(n=i._limitOffset(R(n),i.options.maxBounds)),i.options.worldCopyJump){var o=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(n)));i.panTo(o)}else i.panBy(n)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;Fe(t)}}});Q.addInitHook("addHandler","keyboard",Ft),Q.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ht=ue.extend({addHooks:function(){j(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ao(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),n),Fe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(this._map.options.wheelPxPerZoomLevel*4),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,l=i?Math.ceil(o/i)*i:o,u=t._limitZoom(e+(this._delta>0?l:-l))-e;this._delta=0,this._startTime=null,u&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+u):t.setZoomAround(this._lastMousePos,e+u))}});Q.addInitHook("addHandler","scrollWheelZoom",Ht);var Kt=600;Q.mergeOptions({tapHold:B.touchNative&&B.safari&&B.mobile,tapTolerance:15});var ee=ue.extend({addHooks:function(){j(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(j(document,"touchend",Et),j(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Kt),j(document,"touchend touchcancel contextmenu",this._cancel,this),j(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ut(document,"touchend",Et),ut(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new H(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});Q.addInitHook("addHandler","tapHold",ee),Q.mergeOptions({touchZoom:B.touch,bounceAtZoomLimits:!0});var Ce=ue.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),j(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),j(document,"touchmove",this._onTouchMove,this),j(document,"touchend touchcancel",this._onTouchEnd,this),Et(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,o===1)return}else{var l=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(o===1&&l.x===0&&l.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(l),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),ct(this._animRequest);var u=_(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(u,this,!0),Et(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ct(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Q.addInitHook("addHandler","touchZoom",Ce),Q.BoxZoom=pt,Q.DoubleClickZoom=yt,Q.Drag=bt,Q.Keyboard=Ft,Q.ScrollWheelZoom=Ht,Q.TapHold=ee,Q.TouchZoom=Ce,a.Bounds=ft,a.Browser=B,a.CRS=ae,a.Canvas=Zo,a.Circle=ur,a.CircleMarker=ni,a.Class=At,a.Control=Qt,a.DivIcon=cn,a.DivOverlay=ce,a.DomEvent=so,a.DomUtil=va,a.Draggable=Ee,a.Evented=Te,a.FeatureGroup=he,a.GeoJSON=xe,a.GridLayer=je,a.Handler=ue,a.Icon=Se,a.ImageOverlay=Ci,a.LatLng=at,a.LatLngBounds=It,a.Layer=te,a.LayerGroup=We,a.LineUtil=Ta,a.Map=Q,a.Marker=Si,a.Mixin=xa,a.Path=de,a.Point=H,a.PolyUtil=vo,a.Polygon=ri,a.Polyline=be,a.Popup=Ai,a.PosAnimation=lo,a.Projection=Po,a.Rectangle=$,a.Renderer=we,a.SVG=N,a.SVGOverlay=Ao,a.TileLayer=si,a.Tooltip=Ii,a.Transformation=Ki,a.Util=Gi,a.VideoOverlay=Co,a.bind=_,a.bounds=Ot,a.canvas=w,a.circle=Ma,a.circleMarker=Mo,a.control=Mi,a.divIcon=fr,a.extend=d,a.featureGroup=or,a.geoJSON=cr,a.geoJson=Eo,a.gridLayer=Oo,a.icon=ar,a.imageOverlay=So,a.latLng=X,a.latLngBounds=vt,a.layerGroup=Lo,a.map=ga,a.marker=lr,a.point=R,a.polygon=Sa,a.polyline=Ea,a.popup=zo,a.rectangle=rt,a.setOptions=z,a.stamp=g,a.svg=F,a.svgOverlay=Io,a.tileLayer=Bo,a.tooltip=Aa,a.transformation=Je,a.version=c,a.videoOverlay=Ca;var Ae=window.L;a.noConflict=function(){return window.L=Ae,this},window.L=a}))})(wr,wr.exports)),wr.exports}var Wu=Hu();const Ge=Ru(Wu);var ju=Vt("<button> </button>"),Uu=Vt('<button class="hidden md:flex items-center text-nparks-mint hover:text-white px-3 py-2 rounded-md transition-colors"> </button> <button class="md:hidden inline-flex items-center text-nparks-mint hover:text-white px-3 py-2 rounded-md transition-colors"> </button>',1),qu=Vt('<button class="hidden md:flex items-center text-nparks-mint hover:text-white px-3 py-2 rounded-md transition-colors"> </button> <button class="md:hidden inline-flex items-center text-nparks-mint hover:text-white px-3 py-2 rounded-md transition-colors"> </button>',1),Vu=Vt('<p class="text-center text-nparks-sage mt-4">No trees found matching criteria.</p>'),Gu=Vt('<div role="button" tabindex="0" class="p-3 bg-white rounded-lg cursor-pointer hover:bg-nparks-mint/20 border border-transparent hover:border-nparks-green transition-all duration-200"><h4 class="font-semibold text-nparks-forest"> </h4> <p class="text-sm text-nparks-brown italic"> </p></div>'),Ku=Vt('<tr class="hover:bg-nparks-mint/5"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-nparks-forest"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-2xl"> </td></tr>'),$u=Vt('<div class="min-h-screen flex items-center justify-center"><div class="bg-white p-8 rounded-lg shadow-lg border border-nparks-mint/20 max-w-md w-full"><h2 class="text-2xl font-bold text-nparks-forest mb-6 text-center"> </h2> <div class="space-y-4"><div><label for="admin-password" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="password" id="admin-password" class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green" placeholder="Enter admin password"/></div> <button class="w-full btn-primary text-white py-2 rounded-md font-semibold"> </button></div></div></div>'),Yu=Vt('<tr class="hover:bg-nparks-mint/5"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-nparks-forest"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown capitalize"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><button class="text-nparks-green hover:text-nparks-forest mr-3"> </button> <button class="text-red-600 hover:text-red-800"> </button></td></tr>'),Ju=Vt('<div class="bg-white rounded-lg shadow border border-nparks-mint/20"><div class="p-6 border-b border-nparks-sage"><div class="flex justify-between items-center"><h2 class="text-xl font-semibold text-nparks-forest"> </h2> <button class="btn-primary text-white px-4 py-2 rounded-md"> </button></div></div> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-nparks-sage"><thead class="bg-nparks-mint/10"><tr><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Name</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Species</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Type</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Girth</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Location</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-nparks-sage"></tbody></table></div></div>'),Xu=Vt('<tr class="hover:bg-nparks-mint/5"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-nparks-forest"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown capitalize"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-nparks-brown"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><button class="text-nparks-green hover:text-nparks-forest mr-3"> </button> <button class="text-red-600 hover:text-red-800"> </button></td></tr>'),Qu=Vt('<div class="bg-white rounded-lg shadow border border-nparks-mint/20"><div class="p-6 border-b border-nparks-sage"><div class="flex justify-between items-center"><h2 class="text-xl font-semibold text-nparks-forest"> </h2> <button class="btn-primary text-white px-4 py-2 rounded-md"> </button></div></div> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-nparks-sage"><thead class="bg-nparks-mint/10"><tr><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Name</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Email</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Role</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Points</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Badges</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-nparks-sage"></tbody></table></div></div>'),th=Vt('<div class="p-6"><div class="max-w-7xl mx-auto"><div class="mb-8"><h1 class="text-3xl font-bold text-nparks-forest mb-2"> </h1> <p class="text-nparks-brown">Manage trees and users in your Tree Explorer system</p></div> <div class="grid md:grid-cols-4 gap-6 mb-8"><div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><div class="text-3xl font-bold text-nparks-green mb-2"> </div> <div class="text-nparks-brown"> </div></div> <div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><div class="text-3xl font-bold text-nparks-earth mb-2"> </div> <div class="text-nparks-brown"> </div></div> <div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><div class="text-3xl font-bold text-nparks-olive mb-2"> </div> <div class="text-nparks-brown">Native Trees</div></div> <div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><div class="text-3xl font-bold text-nparks-sage mb-2"> </div> <div class="text-nparks-brown">Admins</div></div></div> <div class="bg-white rounded-lg shadow border border-nparks-mint/20 mb-6"><div class="border-b border-nparks-sage"><nav class="flex space-x-8 px-6"><button class="py-4 px-1 border-b-2 border-nparks-green font-medium text-nparks-forest"> </button> <button class="py-4 px-1 border-b-2 border-transparent font-medium text-nparks-brown hover:text-nparks-forest"> </button> <button class="py-4 px-1 border-b-2 border-transparent font-medium text-nparks-brown hover:text-nparks-forest"> </button></nav></div></div> <!> <!></div></div>'),eh=Vt('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000] p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative border border-nparks-mint/20"><button class="absolute top-4 right-4 text-nparks-sage hover:text-nparks-brown" aria-label="Close modal"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <h3 class="text-2xl font-bold mb-4 text-nparks-forest"> </h3> <form class="space-y-4"><div><label for="admin-tree-name" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="text" id="admin-tree-name" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-tree-species" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="text" id="admin-tree-species" class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-tree-description" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <textarea id="admin-tree-description" rows="3" class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"></textarea></div> <div><label for="admin-tree-type" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <select id="admin-tree-type" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"><option>Native</option><option>Flowering</option><option>Heritage</option><option>Other</option></select></div> <div><label for="admin-tree-girth" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="number" step="0.1" min="0" id="admin-tree-girth" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-tree-location" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="text" id="admin-tree-location" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green" placeholder="lat, lng (e.g., -6.1754, 106.8272)"/></div> <div class="flex justify-end pt-4 space-x-3"><button type="button" class="btn-secondary text-nparks-brown px-4 py-2 rounded-md"> </button> <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md"> </button></div></form></div></div>'),ih=Vt('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000] p-4"><div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative border border-nparks-mint/20"><button class="absolute top-4 right-4 text-nparks-sage hover:text-nparks-brown" aria-label="Close modal"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <h3 class="text-2xl font-bold mb-4 text-nparks-forest"> </h3> <form class="space-y-4"><div><label for="admin-user-name" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="text" id="admin-user-name" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-user-email" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="email" id="admin-user-email" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-user-role" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <select id="admin-user-role" required class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"><option>User</option><option>Moderator</option><option>Admin</option></select></div> <div><label for="admin-user-points" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="number" min="0" id="admin-user-points" class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="admin-user-badges" class="block text-sm font-medium text-nparks-brown mb-2"> </label> <input type="text" id="admin-user-badges" class="w-full px-3 py-2 border border-nparks-sage rounded-md focus:outline-none focus:ring-2 focus:ring-nparks-green focus:border-nparks-green" placeholder="ðŸŒ³ðŸŒ²ðŸŒ¿"/></div> <div class="flex justify-end pt-4 space-x-3"><button type="button" class="btn-secondary text-nparks-brown px-4 py-2 rounded-md"> </button> <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md"> </button></div></form></div></div>'),nh=Vt(`<div class="bg-nparks-cream text-nparks-forest antialiased flex flex-col h-screen"><header class="sticky top-0 bg-nparks-green shadow-lg z-30 w-full"><div class="w-full px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><button class="cursor-pointer"><h1 class="text-xl font-bold text-white hover:text-nparks-mint transition-colors">Tree Explorer</h1></button> <nav class="hidden md:flex items-center justify-center flex-1 space-x-8"><button>Home</button> <button> </button> <button> </button> <button> </button> <button> </button> <!></nav> <div class="flex items-center space-x-4"><div class="relative"><select id="language-switcher" class="block w-full bg-transparent border border-nparks-mint text-white hover:border-white px-4 py-2 pr-8 rounded-md shadow-sm text-sm focus:outline-none focus:ring-2 focus:ring-nparks-mint focus:border-nparks-mint"><option class="text-black">English</option><option class="text-black">Bahasa Indonesia</option></select></div> <button id="add-tree-btn-main" class="hidden md:flex items-center btn-primary text-white px-4 py-2 rounded-md transition-colors"> </button> <button id="add-tree-btn-mobile" class="md:hidden inline-flex items-center btn-primary text-white px-3 py-2 rounded-md transition-colors"> </button> <!></div></div></div></header> <main class="flex-1 flex flex-col md:flex-row overflow-hidden"><div><section class="hero-gradient min-h-screen flex items-center justify-center relative overflow-hidden"><div class="absolute inset-0 opacity-20"><img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=2071&amp;q=80" alt="Forest" class="w-full h-full object-cover"/></div> <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10"><div class="text-center max-w-4xl mx-auto"><div class="animate-fadeInUp"><h1 class="playfair text-5xl md:text-7xl font-bold text-white mb-6 leading-tight"> <span class="block text-nparks-mint"> </span></h1> <p class="text-xl md:text-2xl text-nparks-mint mb-8 max-w-3xl mx-auto leading-relaxed"> </p> <div class="flex flex-col sm:flex-row gap-4 justify-center items-center"><button class="btn-primary text-white px-8 py-4 rounded-lg text-lg font-semibold hover-lift flex items-center"><svg class="h-6 w-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg> </button> <button class="btn-secondary text-white px-8 py-4 rounded-lg text-lg font-semibold hover-lift flex items-center"><svg class="h-6 w-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg> </button></div></div></div></div></section> <section class="py-20 feature-gradient"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-16"><h2 class="playfair text-4xl md:text-5xl font-bold text-nparks-forest mb-6"> </h2> <p class="text-xl text-nparks-brown max-w-3xl mx-auto"> </p></div> <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto"><div class="bg-white p-8 rounded-2xl shadow-lg hover-lift text-center border border-nparks-mint/20"><div class="mb-6"><img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80" alt="Interactive Map" class="w-full h-48 object-cover rounded-lg"/></div> <h3 class="text-2xl font-bold text-nparks-forest mb-4"> </h3> <p class="text-nparks-brown mb-6"> </p> <button class="btn-primary text-white px-6 py-3 rounded-lg font-semibold"> </button></div> <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift text-center border border-nparks-mint/20"><div class="mb-6"><img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80" alt="Community Contribution" class="w-full h-48 object-cover rounded-lg"/></div> <h3 class="text-2xl font-bold text-nparks-forest mb-4"> </h3> <p class="text-nparks-brown mb-6"> </p> <button class="btn-primary text-white px-6 py-3 rounded-lg font-semibold"> </button></div> <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift text-center border border-nparks-mint/20"><div class="mb-6"><img src="https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80" alt="Education" class="w-full h-48 object-cover rounded-lg"/></div> <h3 class="text-2xl font-bold text-nparks-forest mb-4"> </h3> <p class="text-nparks-brown mb-6"> </p> <button class="btn-primary text-white px-6 py-3 rounded-lg font-semibold"> </button></div></div></div></section> <section class="py-20 bg-white"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-16"><h2 class="playfair text-4xl md:text-5xl font-bold text-nparks-forest mb-6"> </h2> <p class="text-xl text-nparks-brown max-w-3xl mx-auto"> </p></div> <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto"><div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Urban Forest" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div> <div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Tree Mapping" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div> <div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Community" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div> <div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Conservation" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div> <div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1472214103451-9374bd1c798e?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Education" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div> <div class="relative group overflow-hidden rounded-2xl shadow-lg hover-lift"><img src="https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Research" class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"/> <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"><div class="absolute bottom-4 left-4 text-white"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm"> </p></div></div></div></div></div></section> <section class="py-20 bg-nparks-cream"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-16"><h2 class="playfair text-4xl md:text-5xl font-bold text-nparks-forest mb-6"> </h2> <p class="text-xl text-nparks-brown max-w-3xl mx-auto"> </p></div> <div class="grid md:grid-cols-4 gap-8 max-w-4xl mx-auto"><div class="text-center"><div class="text-5xl font-bold text-nparks-green mb-2">500+</div> <div class="text-lg text-nparks-brown"> </div></div> <div class="text-center"><div class="text-5xl font-bold text-nparks-earth mb-2">1,200+</div> <div class="text-lg text-nparks-brown"> </div></div> <div class="text-center"><div class="text-5xl font-bold text-nparks-olive mb-2">50+</div> <div class="text-lg text-nparks-brown"> </div></div> <div class="text-center"><div class="text-5xl font-bold text-nparks-sage mb-2">25+</div> <div class="text-lg text-nparks-brown"> </div></div></div></div></section> <section class="py-20 hero-gradient"><div class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center max-w-4xl mx-auto"><h2 class="playfair text-4xl md:text-5xl font-bold text-white mb-6"> </h2> <p class="text-xl text-nparks-mint mb-8 max-w-2xl mx-auto"> </p> <div class="flex flex-col sm:flex-row gap-4 justify-center items-center"><button class="bg-white text-nparks-forest px-8 py-4 rounded-lg text-lg font-semibold hover:bg-nparks-mint/10 transition-all duration-300 hover-lift flex items-center"><svg class="h-6 w-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg> </button> <button class="border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-nparks-forest transition-all duration-300 hover-lift flex items-center"><svg class="h-6 w-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> </button></div></div></div></section></div> <div><aside id="sidebar" class="w-full md:w-80 lg:w-96 bg-nparks-cream p-4 overflow-y-auto custom-scrollbar flex flex-col shadow-lg z-20 transition-all duration-300 ease-in-out border-r border-nparks-mint/20 svelte-1gh6bhy"><div class="flex-shrink-0"><h2 class="text-lg font-bold text-nparks-forest">Filters</h2> <div class="mt-4"><label for="tree-type" class="block text-sm font-medium text-nparks-brown">Tree Type</label> <select id="tree-type" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-nparks-sage focus:outline-none focus:ring-nparks-green focus:border-nparks-green sm:text-sm rounded-md bg-white"><option>All</option><option>Native</option><option>Flowering</option><option>Heritage</option></select></div> <div class="mt-4"><label for="tree-girth" class="block text-sm font-medium text-nparks-brown">Girth Size (meters)</label> <select id="tree-girth" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-nparks-sage focus:outline-none focus:ring-nparks-green focus:border-nparks-green sm:text-sm rounded-md bg-white"><option>All</option><option>Small (0.1 - 0.5m)</option><option>Medium (0.5 - 1.0m)</option><option>Large (1.0m+)</option></select></div> <div class="mt-6 border-t border-nparks-sage pt-4"><div class="flex justify-between items-center"><h3 class="text-md font-bold text-nparks-forest">Mapped Trees</h3> <span id="tree-count" class="text-sm font-medium bg-nparks-green text-white px-2.5 py-0.5 rounded-full"> </span></div></div></div> <div id="tree-list" class="flex-1 mt-4 space-y-2 overflow-y-auto custom-scrollbar svelte-1gh6bhy"><!></div></aside> <div id="map" class="flex-1 h-64 md:h-auto"></div></div> <div><div class="max-w-4xl mx-auto"><h1 class="text-3xl font-bold mb-6 text-nparks-forest">Learn About Local Trees</h1> <div class="space-y-8"><div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><h2 class="text-2xl font-semibold mb-3 text-nparks-green">The Importance of Native Trees</h2> <p class="text-nparks-brown">Native trees are crucial for our ecosystem. They provide food and shelter for local wildlife, require less water and maintenance once established, and are perfectly adapted to the local climate and soil conditions. Planting native trees helps restore biodiversity and creates a healthier environment for everyone.</p></div> <div class="bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><h2 class="text-2xl font-semibold mb-3 text-nparks-green">How to Identify a Durian Tree</h2> <p class="text-nparks-brown">The Durian tree (Durio zibethinus) is famous for its large, spiky fruit. Look for a tall tree, up to 50 meters, with a straight trunk. Its leaves are evergreen, oblong, and glossy green on top with a coppery-gold underside. The flowers are large and hang in clusters, and of course, the distinctive fruit is unmistakable!</p></div></div></div></div> <div><div class="max-w-4xl mx-auto"><h1 class="text-3xl font-bold mb-6 text-nparks-forest">Community Leaderboard</h1> <div class="bg-white rounded-lg shadow overflow-hidden border border-nparks-mint/20"><table class="min-w-full divide-y divide-nparks-sage"><thead class="bg-nparks-mint/10"><tr><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Rank</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">User</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Points</th><th class="px-6 py-3 text-left text-xs font-medium text-nparks-brown uppercase tracking-wider">Badges</th></tr></thead><tbody class="bg-white divide-y divide-nparks-sage"></tbody></table></div> <div class="mt-8 bg-white p-6 rounded-lg shadow border border-nparks-mint/20"><h2 class="text-2xl font-semibold mb-3 text-nparks-green">Upcoming Events</h2> <p class="text-nparks-brown">Join us for a community tree planting day on Saturday at 9 AM at the City Park! Gloves and tools will be provided. Let's make our city greener together.</p></div></div></div> <div><div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow border border-nparks-mint/20"><h1 class="text-3xl font-bold mb-4 text-nparks-forest">About Tree Explorer</h1> <p class="mb-4 text-nparks-brown">Tree Explorer is a community-driven initiative to map, learn about, and protect the local trees that make our environment beautiful and healthy. Our goal is to raise awareness and encourage hands-on participation in urban forestry and conservation.</p> <p class="text-nparks-brown">This application is a prototype developed in response to an RFQ for a community-focused environmental education platform. It demonstrates the core functionalities, including an interactive map, educational resources, and gamified community engagement.</p> <div class="mt-6 border-t border-nparks-sage pt-6"><h2 class="text-xl font-semibold mb-3 text-nparks-green">Maintenance Notice</h2> <p class="text-nparks-brown">There are no scheduled maintenance activities at this time. The platform is fully operational.</p></div> <div class="mt-6 border-t border-nparks-sage pt-6"><h2 class="text-xl font-semibold mb-3 text-red-600">Scam Alert</h2> <p class="text-nparks-brown">Please be aware: Our volunteers will never ask for personal financial information or donations via direct message. All official communications and fundraising will be done through our official website and channels. Stay safe!</p></div></div></div> <div><!></div></main> <div id="add-tree-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-[1000] p-4 pointer-events-none"><div class="bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative pointer-events-auto border border-nparks-mint/20"><button id="close-modal-btn" aria-label="Close" class="absolute top-4 right-4 text-nparks-sage hover:text-nparks-brown"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <h3 class="text-2xl font-bold mb-4 text-nparks-forest">Add a New Tree</h3> <form id="add-tree-form" class="space-y-4"><div><label for="tree-name-input" class="block text-sm font-medium text-nparks-brown">Tree Name (Common)</label> <input type="text" id="tree-name-input" required class="mt-1 block w-full border border-nparks-sage rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="tree-species-input" class="block text-sm font-medium text-nparks-brown">Species (Scientific)</label> <input type="text" id="tree-species-input" class="mt-1 block w-full border border-nparks-sage rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="tree-description-input" class="block text-sm font-medium text-nparks-brown">Description</label> <textarea id="tree-description-input" rows="3" class="mt-1 block w-full border border-nparks-sage rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-nparks-green focus:border-nparks-green"></textarea></div> <div><label for="tree-type-input" class="block text-sm font-medium text-nparks-brown">Tree Type</label> <select id="tree-type-input" required class="mt-1 block w-full border border-nparks-sage rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-nparks-green focus:border-nparks-green"><option>Native</option><option>Flowering</option><option>Heritage</option><option>Other</option></select></div> <div><label for="tree-girth-input" class="block text-sm font-medium text-nparks-brown">Girth (meters)</label> <input type="number" step="0.1" min="0" id="tree-girth-input" required class="mt-1 block w-full border border-nparks-sage rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-nparks-green focus:border-nparks-green"/></div> <div><label for="tree-location-input" class="block text-sm font-medium text-nparks-brown">Location</label> <p class="text-sm text-nparks-sage">Click on the map to set location.</p> <input type="text" id="tree-location-input" readonly="" required class="mt-1 block w-full border bg-nparks-cream border-nparks-sage rounded-md shadow-sm py-2 px-3"/></div> <div class="flex justify-end pt-4"><button type="button" id="cancel-modal-btn" class="btn-secondary text-nparks-brown px-4 py-2 rounded-md mr-2">Cancel</button> <button type="submit" class="btn-primary text-white px-4 py-2 rounded-md">Submit Tree</button></div></form></div></div> <div id="toast" class="fixed bottom-5 right-5 bg-nparks-green text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50"><p id="toast-message"></p></div> <!> <!></div>`);function rh(r,s){Bs(s,!1);let a=Ut("landing"),c=Ut(!1),d=Ut(""),p=Ut("en"),_=Ut(),T=Ut(),g=null,k=Ut([]),A=Ut([]),M=Ut([]),I=null,O=null,E=Ut(!1),z=Ut(!1),V=Ut(!1),lt=Ut(!1);const Y={navMap:{en:"Map",id:"Peta"},navLearn:{en:"Learn",id:"Belajar"},navCommunity:{en:"Community",id:"Komunitas"},navAbout:{en:"About",id:"Tentang"},addTree:{en:"Add Tree",id:"Tambah Pohon"},heroTitle:{en:"Discover Our",id:"Temukan"},heroSubtitle:{en:"Urban Forest",id:"Hutan Kota"},heroDescription:{en:"Join our community-driven mission to map, learn about, and protect the trees that make our cities beautiful and sustainable.",id:"Bergabunglah dengan misi komunitas kami untuk memetakan, mempelajari, dan melindungi pohon-pohon yang membuat kota kita indah dan berkelanjutan."},exploreMap:{en:"Explore the Map",id:"Jelajahi Peta"},learnAboutTrees:{en:"Learn About Trees",id:"Pelajari Pohon"},featuresTitle:{en:"How We're Making a Difference",id:"Bagaimana Kami Membuat Perbedaan"},featuresDescription:{en:"Our platform empowers communities to take action for urban forestry through technology, education, and collaboration.",id:"Platform kami memberdayakan komunitas untuk mengambil tindakan untuk kehutanan perkotaan melalui teknologi, pendidikan, dan kolaborasi."},feature1Title:{en:"Interactive Mapping",id:"Pemetaan Interaktif"},feature1Description:{en:"Explore our comprehensive map of local trees with detailed information about species, locations, and environmental impact.",id:"Jelajahi peta komprehensif pohon lokal dengan informasi detail tentang spesies, lokasi, dan dampak lingkungan."},feature2Title:{en:"Add New Trees",id:"Tambah Pohon Baru"},feature2Description:{en:"Contribute to our growing database by submitting information about trees in your neighborhood or local parks.",id:"Berkontribusi pada database yang berkembang dengan mengirimkan informasi tentang pohon di lingkungan atau taman lokal Anda."},feature3Title:{en:"Learn & Discover",id:"Belajar & Temukan"},feature3Description:{en:"Access educational resources about local tree species, conservation practices, and environmental benefits.",id:"Akses sumber daya pendidikan tentang spesies pohon lokal, praktik konservasi, dan manfaat lingkungan."},startExploring:{en:"Start Exploring",id:"Mulai Menjelajahi"},submitTree:{en:"Submit a Tree",id:"Kirim Pohon"},startLearning:{en:"Start Learning",id:"Mulai Belajar"},galleryTitle:{en:"Our Work in Action",id:"Pekerjaan Kami dalam Aksi"},galleryDescription:{en:"See how our community is making a real difference in urban forestry and environmental conservation.",id:"Lihat bagaimana komunitas kami membuat perbedaan nyata dalam kehutanan perkotaan dan konservasi lingkungan."},galleryItem1:{en:"Urban Forest",id:"Hutan Kota"},galleryItem1Desc:{en:"Beautiful city trees",id:"Pohon kota yang indah"},galleryItem2:{en:"Tree Mapping",id:"Pemetaan Pohon"},galleryItem2Desc:{en:"Interactive mapping",id:"Pemetaan interaktif"},galleryItem3:{en:"Community",id:"Komunitas"},galleryItem3Desc:{en:"Active participation",id:"Partisipasi aktif"},galleryItem4:{en:"Conservation",id:"Konservasi"},galleryItem4Desc:{en:"Protecting nature",id:"Melindungi alam"},galleryItem5:{en:"Education",id:"Pendidikan"},galleryItem5Desc:{en:"Learning together",id:"Belajar bersama"},galleryItem6:{en:"Research",id:"Penelitian"},galleryItem6Desc:{en:"Scientific study",id:"Studi ilmiah"},statsTitle:{en:"Our Impact So Far",id:"Dampak Kami Sejauh Ini"},statsDescription:{en:"Together, we're building a comprehensive database of urban trees and fostering environmental awareness.",id:"Bersama-sama, kami membangun database komprehensif pohon perkotaan dan menumbuhkan kesadaran lingkungan."},treesMapped:{en:"Trees Mapped",id:"Pohon Terpetakan"},communityMembers:{en:"Community Members",id:"Anggota Komunitas"},treeSpecies:{en:"Tree Species",id:"Spesies Pohon"},neighborhoods:{en:"Neighborhoods",id:"Lingkungan"},ctaTitle:{en:"Ready to Make a Difference?",id:"Siap Membuat Perbedaan?"},ctaDescription:{en:"Join thousands of community members who are actively contributing to urban forest conservation and environmental education.",id:"Bergabunglah dengan ribuan anggota komunitas yang secara aktif berkontribusi pada konservasi hutan perkotaan dan pendidikan lingkungan."},startExploringNow:{en:"Start Exploring Now",id:"Mulai Menjelajahi Sekarang"},joinCommunity:{en:"Join Our Community",id:"Bergabung dengan Komunitas"},adminPanel:{en:"Admin Panel",id:"Panel Admin"},adminLogin:{en:"Admin Login",id:"Login Admin"},adminPassword:{en:"Admin Password",id:"Kata Sandi Admin"},login:{en:"Login",id:"Masuk"},logout:{en:"Logout",id:"Keluar"},dashboard:{en:"Dashboard",id:"Dashboard"},manageTrees:{en:"Manage Trees",id:"Kelola Pohon"},manageUsers:{en:"Manage Users",id:"Kelola Pengguna"},addNew:{en:"Add New",id:"Tambah Baru"},edit:{en:"Edit",id:"Edit"},delete:{en:"Delete",id:"Hapus"},save:{en:"Save",id:"Simpan"},cancel:{en:"Cancel",id:"Batal"},confirmDelete:{en:"Are you sure you want to delete this item?",id:"Apakah Anda yakin ingin menghapus item ini?"},treeName:{en:"Tree Name",id:"Nama Pohon"},treeSpecies:{en:"Tree Species",id:"Spesies Pohon"},treeType:{en:"Tree Type",id:"Jenis Pohon"},treeDescription:{en:"Description",id:"Deskripsi"},treeGirth:{en:"Girth (meters)",id:"Lingkar (meter)"},treeLocation:{en:"Location",id:"Lokasi"},userName:{en:"User Name",id:"Nama Pengguna"},userEmail:{en:"Email",id:"Email"},userRole:{en:"Role",id:"Peran"},userPoints:{en:"Points",id:"Poin"},userBadges:{en:"Badges",id:"Lencana"},totalTrees:{en:"Total Trees",id:"Total Pohon"},totalUsers:{en:"Total Users",id:"Total Pengguna"},recentActivity:{en:"Recent Activity",id:"Aktivitas Terbaru"},filtersTitle:{en:"Filters",id:"Filter"},filterType:{en:"Tree Type",id:"Jenis Pohon"},filterTypeAll:{en:"All",id:"Semua"},filterTypeNative:{en:"Native",id:"Asli"},filterTypeFlowering:{en:"Flowering",id:"Berbunga"},filterTypeHeritage:{en:"Heritage",id:"Warisan"},filterTypeOther:{en:"Other",id:"Lainnya"},filterGirth:{en:"Girth Size (meters)",id:"Ukuran Lingkar (meter)"},filterGirthAll:{en:"All",id:"Semua"},filterGirthSmall:{en:"Small (0.1 - 0.5m)",id:"Kecil (0.1 - 0.5m)"},filterGirthMedium:{en:"Medium (0.5 - 1.0m)",id:"Sedang (0.5 - 1.0m)"},filterGirthLarge:{en:"Large (1.0m+)",id:"Besar (1.0m+)"},mappedTreesTitle:{en:"Mapped Trees",id:"Pohon Terpetakan"},learnTitle:{en:"Learn About Local Trees",id:"Belajar Tentang Pohon Lokal"},learnArticle1Title:{en:"The Importance of Native Trees",id:"Pentingnya Pohon Asli"},learnArticle1Content:{en:"Native trees are crucial for our ecosystem. They provide food and shelter for local wildlife, require less water and maintenance once established, and are perfectly adapted to the local climate and soil conditions. Planting native trees helps restore biodiversity and creates a healthier environment for everyone.",id:"Pohon asli sangat penting untuk ekosistem kita. Mereka menyediakan makanan dan tempat berlindung bagi satwa liar lokal, membutuhkan lebih sedikit air dan perawatan setelah tumbuh, dan sangat cocok dengan iklim serta kondisi tanah setempat. Menanam pohon asli membantu memulihkan keanekaragaman hayati dan menciptakan lingkungan yang lebih sehat bagi semua."},learnArticle2Title:{en:"How to Identify a Durian Tree",id:"Cara Mengidentifikasi Pohon Durian"},learnArticle2Content:{en:"The Durian tree (Durio zibethinus) is famous for its large, spiky fruit. Look for a tall tree, up to 50 meters, with a straight trunk. Its leaves are evergreen, oblong, and glossy green on top with a coppery-gold underside. The flowers are large and hang in clusters, and of course, the distinctive fruit is unmistakable!",id:"Pohon Durian (Durio zibethinus) terkenal dengan buahnya yang besar dan berduri. Cari pohon tinggi hingga 50 meter dengan batang lurus. Daunnya hijau mengilap di atas dan keemasan di bawah. Bunganya besar dan menggantung bergerombol, dan tentu saja buahnya sangat khas!"},communityTitle:{en:"Community Leaderboard",id:"Papan Peringkat Komunitas"},leaderboardRank:{en:"Rank",id:"Peringkat"},leaderboardUser:{en:"User",id:"Pengguna"},leaderboardPoints:{en:"Points",id:"Poin"},leaderboardBadges:{en:"Badges",id:"Lencana"},eventsTitle:{en:"Upcoming Events",id:"Acara Mendatang"},eventsContent:{en:"Join us for a community tree planting day on Saturday at 9 AM at the City Park! Gloves and tools will be provided. Let's make our city greener together.",id:"Bergabunglah untuk hari penanaman pohon komunitas pada hari Sabtu pukul 9 pagi di Taman Kota! Sarung tangan dan alat akan disediakan. Mari kita hijaukan kota bersama."},aboutTitle:{en:"About Tree Explorer",id:"Tentang Penjelajah Pohon"},aboutContent1:{en:"Tree Explorer is a community-driven initiative to map, learn about, and protect the local trees that make our environment beautiful and healthy. Our goal is to raise awareness and encourage hands-on participation in urban forestry and conservation.",id:"Penjelajah Pohon adalah inisiatif berbasis komunitas untuk memetakan, mempelajari, dan melindungi pohon-pohon lokal yang membuat lingkungan kita indah dan sehat. Tujuan kami adalah meningkatkan kesadaran dan mendorong partisipasi langsung dalam kehutanan kota dan konservasi."},aboutContent2:{en:"This application is a prototype developed in response to an RFQ for a community-focused environmental education platform. It demonstrates the core functionalities, including an interactive map, educational resources, and gamified community engagement.",id:"Aplikasi ini adalah prototipe yang dikembangkan sebagai respons terhadap RFQ untuk platform pendidikan lingkungan yang berfokus pada komunitas. Ini menunjukkan fungsionalitas inti, termasuk peta interaktif, sumber daya edukasi, dan keterlibatan komunitas yang digamifikasi."},maintenanceTitle:{en:"Maintenance Notice",id:"Pemberitahuan Pemeliharaan"},maintenanceContent:{en:"There are no scheduled maintenance activities at this time. The platform is fully operational.",id:"Tidak ada kegiatan pemeliharaan yang dijadwalkan saat ini. Platform beroperasi penuh."},scamTitle:{en:"Scam Alert",id:"Peringatan Penipuan"},scamContent:{en:"Please be aware: Our volunteers will never ask for personal financial information or donations via direct message. All official communications and fundraising will be done through our official website and channels. Stay safe!",id:"Harap diperhatikan: Relawan kami tidak akan pernah meminta informasi keuangan pribadi atau donasi melalui pesan langsung. Semua komunikasi resmi dan penggalangan dana dilakukan melalui situs web dan saluran resmi kami. Tetap waspada!"},modalAddTitle:{en:"Add a New Tree",id:"Tambah Pohon Baru"},modalTreeName:{en:"Tree Name (Common)",id:"Nama Pohon (Umum)"},modalTreeSpecies:{en:"Species (Scientific)",id:"Spesies (Ilmiah)"},modalDescription:{en:"Description",id:"Deskripsi"},modalTreeType:{en:"Tree Type",id:"Jenis Pohon"},modalGirth:{en:"Girth (meters)",id:"Lingkar (meter)"},modalLocation:{en:"Location",id:"Lokasi"},modalLocationDesc:{en:"Click on the map to set location.",id:"Klik di peta untuk mengatur lokasi."},modalCancel:{en:"Cancel",id:"Batal"},modalSubmit:{en:"Submit Tree",id:"Kirim Pohon"},toastEnterAddMode:{en:"Map is in add mode. Click to place your tree.",id:"Peta dalam mode tambah. Klik untuk menempatkan pohon Anda."},toastTreeAdded:{en:"Tree added successfully!",id:"Pohon berhasil ditambahkan!"},toastLocationNeeded:{en:"Please set a location on the map.",id:"Silakan atur lokasi di peta."}},b=w=>Y[w]?.[y(p)]??Y[w]?.en??w;let mt=Ut([]);function _t(w){tt(p,w),y(T)&&y(T).eachLayer(S=>{const D=y(k).find(U=>U.id===S.treeId);D&&S.bindPopup(J(D))}),tt(mt,re())}function J(w){const S=`filterType${w.type.charAt(0).toUpperCase()+w.type.slice(1)}`,D=Y[S]&&Y[S][y(p)]||w.type;return`
            <div class="w-48">
                <img src="${w.imageUrl}" alt="${w.name}" class="w-full h-24 object-cover rounded-t-md">
                <div class="p-2">
                    <h4 class="font-bold text-md">${w.name}</h4>
                    <p class="text-sm text-gray-600 italic">${w.species}</p>
                    <p class="text-xs mt-1 text-gray-500">${w.description}</p>
                    <span class="inline-block bg-gray-200 rounded-full px-2 py-0.5 text-xs font-semibold text-gray-700 mt-2">${D}</span>
                </div>
            </div>
        `}function ot(w){const S={native:"#31572c",flowering:"#4f772d",heritage:"#90a955",other:"#6b7280",new:"#3b82f6"},D=S[w]||S.other;return Ge.divIcon({html:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${D}" class="w-8 h-8 drop-shadow-lg"><path fill-rule="evenodd" d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 005.16-4.212c1.58-2.677 1.954-5.55.973-8.118A8.442 8.442 0 0012 2a8.442 8.442 0 00-6.453 3.003 9.92 9.92 0 00-.973 8.118c1.233 2.933 3.516 5.25 5.16 6.34.208.129.421.238.636.328zM12 11a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clip-rule="evenodd" /></svg>`,className:"",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})}function Nt(w){y(T)&&(y(T).clearLayers(),w.forEach(S=>{const D=Ge.marker([S.lat,S.lng],{icon:ot(S.type)});D.treeId=S.id,D.bindPopup(J(S)),y(T).addLayer(D)}))}function re(){const w=document.getElementById("tree-type")?.value||"all",S=document.getElementById("tree-girth")?.value||"all";return y(k).filter(D=>{const U=w==="all"||D.type===w,N=(()=>{if(S==="all")return!0;if(S.includes("+")){const rt=parseFloat(S);return D.girth>=rt}const[F,$]=S.split("-").map(Number);return D.girth>=F&&D.girth<$})();return U&&N})}function oe(){tt(mt,re()),Nt(y(mt))}function K(w){tt(a,w),w==="map"&&y(_)&&setTimeout(()=>y(_).invalidateSize(),10)}function ct(w){const S=document.getElementById("toast"),D=document.getElementById("toast-message");D.textContent=w,S.classList.remove("opacity-0"),setTimeout(()=>S.classList.add("opacity-0"),3e3)}Cu(()=>{tt(k,[{id:1,lat:-6.1754,lng:106.8272,name:"Banyan Tree",species:"Ficus benghalensis",type:"heritage",girth:3.5,description:"An old heritage tree near the National Monument.",imageUrl:"https://placehold.co/300x200/a3e635/ffffff?text=Banyan+Tree"},{id:2,lat:-6.2297,lng:106.809,name:"Rain Tree",species:"Albizia saman",type:"native",girth:1.8,description:"A large canopy tree providing shade in Senayan.",imageUrl:"https://placehold.co/300x200/a3e635/ffffff?text=Rain+Tree"},{id:3,lat:-6.1256,lng:106.88,name:"Royal Poinciana",species:"Delonix regia",type:"flowering",girth:1.2,description:"Vibrant red flowers, located in a park in Kelapa Gading.",imageUrl:"https://placehold.co/300x200/a3e635/ffffff?text=Flowering+Tree"}]);const w=[{name:"Angsana",species:"Pterocarpus indicus",type:"native"},{name:"Rain Tree",species:"Albizia saman",type:"native"},{name:"Mahogany",species:"Swietenia mahagoni",type:"native"},{name:"Royal Poinciana",species:"Delonix regia",type:"flowering"},{name:"Golden Shower",species:"Cassia fistula",type:"flowering"},{name:"Sea Almond",species:"Terminalia catappa",type:"native"},{name:"Tamarind Tree",species:"Tamarindus indica",type:"native"},{name:"Pride of India",species:"Lagerstroemia speciosa",type:"flowering"}];for(let N=0;N<60;N++){const F=w[Math.floor(Math.random()*w.length)];y(k).push({id:y(k).length+1,lat:-6.09-Math.random()*.27,lng:106.7+Math.random()*.25,name:F.name,species:F.species,type:F.type,girth:parseFloat((Math.random()*2+.3).toFixed(1)),description:`A ${F.name} tree in a residential or park area.`,imageUrl:`https://placehold.co/300x200/a3e635/ffffff?text=${F.name.replace(/ /g,"+")}`})}tt(A,[{rank:1,name:"Riris B.",points:1250,badges:"ðŸŒ³ðŸŒ²ðŸŒ¿"},{rank:2,name:"Adi P.",points:1100,badges:"ðŸŒ³ðŸŒ²"},{rank:3,name:"Citra W.",points:950,badges:"ðŸŒ³ðŸŒ¿"},{rank:4,name:"Budi S.",points:800,badges:"ðŸŒ³"},{rank:5,name:"Dewi K.",points:720,badges:"ðŸŒ³"}]),Object.assign(Y,{filterTypeNative:{en:"Native",id:"Asli"},filterTypeFlowering:{en:"Flowering",id:"Berbunga"},filterTypeHeritage:{en:"Heritage",id:"Warisan"},filterTypeOther:{en:"Other",id:"Lainnya"},toastEnterAddMode:{en:"Map is in add mode. Click to place your tree.",id:"Peta dalam mode tambah. Klik untuk menempatkan pohon Anda."},toastTreeAdded:{en:"Tree added successfully!",id:"Pohon berhasil ditambahkan!"},toastLocationNeeded:{en:"Please set a location on the map.",id:"Silakan atur lokasi di peta."}}),tt(T,Ge.layerGroup());const S=Ge.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap & CARTO",subdomains:"abcd",maxZoom:20}),D=Ge.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap & CARTO",subdomains:"abcd",maxZoom:20}),U=Ge.tileLayer("https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"],attribution:"&copy; Google Maps"});tt(_,Ge.map("map",{center:[-6.1754,106.8272],zoom:12,layers:[S,y(T)]})),Ge.control.layers({Light:S,Dark:D,Satellite:U},{Trees:y(T)}).addTo(y(_)),y(_).on("click",N=>{const F=document.getElementById("add-tree-modal");if(getComputedStyle(F).display==="flex"){g&&y(_).removeLayer(g),g=Ge.marker(N.latlng,{icon:ot("new")}).addTo(y(_));const $=document.getElementById("tree-location-input");$&&($.value=`${N.latlng.lat.toFixed(5)}, ${N.latlng.lng.toFixed(5)}`)}}),tt(mt,re()),Nt(y(mt))});function Gi(w){w.preventDefault();const S=document.getElementById("tree-location-input").value;if(!S){ct(Y.toastLocationNeeded[y(p)]);return}const[D,U]=S.split(",").map(Number),N=document.getElementById("tree-name-input").value,F=document.getElementById("tree-species-input").value,$=document.getElementById("tree-type-input").value,rt=parseFloat(document.getElementById("tree-girth-input").value),pt=document.getElementById("tree-description-input").value,yt={id:y(k).length+1,lat:D,lng:U,name:N,species:F,type:$,girth:rt,description:pt,imageUrl:`https://placehold.co/300x200/a3e635/ffffff?text=${N.replace(/ /g,"+")}`};tt(k,[...y(k),yt]),ge(),oe(),ct(Y.toastTreeAdded[y(p)]),y(_).setView([yt.lat,yt.lng],17)}function At(){const w=document.getElementById("add-tree-modal");w.style.display="flex",ct(Y.toastEnterAddMode[y(p)])}function ge(){const w=document.getElementById("add-tree-modal");w.style.display="none",document.getElementById("add-tree-form")?.reset(),g&&(y(_).removeLayer(g),g=null)}function Ct(){y(d)==="admin123"?(tt(c,!0),tt(d,""),H(),K("admin")):alert("Invalid admin password")}function Te(){tt(c,!1),tt(a,"landing")}function H(){tt(M,[{id:1,name:"John Doe",email:"john@example.com",role:"admin",points:1500,badges:"ðŸŒ³ðŸŒ²ðŸŒ¿",joinDate:"2024-01-15"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"user",points:1200,badges:"ðŸŒ³ðŸŒ²",joinDate:"2024-02-01"},{id:3,name:"Bob Wilson",email:"bob@example.com",role:"user",points:800,badges:"ðŸŒ³",joinDate:"2024-02-15"},{id:4,name:"Alice Brown",email:"alice@example.com",role:"moderator",points:1100,badges:"ðŸŒ³ðŸŒ¿",joinDate:"2024-01-20"}])}function kn(w=null){I=w,tt(V,w!==null),tt(E,!0),w&&(document.getElementById("admin-tree-name")?.setAttribute("value",w.name||""),document.getElementById("admin-tree-species")?.setAttribute("value",w.species||""),document.getElementById("admin-tree-description")?.setAttribute("value",w.description||""),document.getElementById("admin-tree-type")?.setAttribute("value",w.type||""),document.getElementById("admin-tree-girth")?.setAttribute("value",w.girth||""),document.getElementById("admin-tree-location")?.setAttribute("value",`${w.lat}, ${w.lng}`||""))}function R(){tt(E,!1),I=null,tt(V,!1)}function ft(){const w=document.getElementById("admin-tree-name")?.value,S=document.getElementById("admin-tree-species")?.value,D=document.getElementById("admin-tree-description")?.value,U=document.getElementById("admin-tree-type")?.value,N=parseFloat(document.getElementById("admin-tree-girth")?.value),F=document.getElementById("admin-tree-location")?.value;if(!w||!U||!N||!F){alert("Please fill in all required fields");return}const[$,rt]=F.split(",").map(Number);if(y(V)){const pt=y(k).findIndex(yt=>yt.id===I.id);pt!==-1&&_s(k,y(k)[pt]={...y(k)[pt],name:w,species:S,description:D,type:U,girth:N,lat:$,lng:rt})}else{const pt={id:Math.max(...y(k).map(yt=>yt.id),0)+1,name:w,species:S,description:D,type:U,girth:N,lat:$,lng:rt,imageUrl:`https://placehold.co/300x200/a3e635/ffffff?text=${w.replace(/ /g,"+")}`};y(k).push(pt)}oe(),R()}function Ot(w){confirm(b("confirmDelete"))&&(tt(k,y(k).filter(S=>S.id!==w)),oe())}function It(w=null){O=w,tt(lt,w!==null),tt(z,!0),w&&(document.getElementById("admin-user-name")?.setAttribute("value",w.name||""),document.getElementById("admin-user-email")?.setAttribute("value",w.email||""),document.getElementById("admin-user-role")?.setAttribute("value",w.role||""),document.getElementById("admin-user-points")?.setAttribute("value",w.points||""),document.getElementById("admin-user-badges")?.setAttribute("value",w.badges||""))}function vt(){tt(z,!1),O=null,tt(lt,!1)}function at(){const w=document.getElementById("admin-user-name")?.value,S=document.getElementById("admin-user-email")?.value,D=document.getElementById("admin-user-role")?.value,U=parseInt(document.getElementById("admin-user-points")?.value),N=document.getElementById("admin-user-badges")?.value;if(!w||!S||!D){alert("Please fill in all required fields");return}if(y(lt)){const F=y(M).findIndex($=>$.id===O.id);F!==-1&&_s(M,y(M)[F]={...y(M)[F],name:w,email:S,role:D,points:U||0,badges:N||""})}else{const F={id:Math.max(...y(M).map($=>$.id),0)+1,name:w,email:S,role:D,points:U||0,badges:N||"",joinDate:new Date().toISOString().split("T")[0]};y(M).push(F)}vt()}function X(w){confirm(b("confirmDelete"))&&tt(M,y(M).filter(S=>S.id!==w))}Nu();var ae=nh(),ye=h(ae),Or=h(ye),Pn=h(Or),Ki=h(Pn),Je=m(Ki,2),pi=h(Je);let Br;var mi=m(pi,2);let Tn;var Ln=h(mi),Ze=m(mi,2);let Zr;var Dr=h(Ze),Xe=m(Ze,2);let Mn;var Nr=h(Xe),$i=m(Xe,2);let Rr;var En=h($i),Fr=m($i,2);{var Hr=w=>{var S=ju();let D;var U=h(S);jt((N,F)=>{D=pe(S,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,D,N),P(U,F)},[()=>({selected:y(a)==="admin"}),()=>b("adminPanel")]),q("click",S,()=>K("admin")),Zt(w,S)};ui(Fr,w=>{y(c)&&w(Hr)})}var ea=m(Je,2),Sn=h(ea),Yi=h(Sn);jt(()=>{y(p),pu(()=>{})});var Cn=h(Yi);Cn.value=Cn.__value="en";var An=m(Cn);An.value=An.__value="id";var _i=m(Sn,2),Wr=h(_i),In=m(_i,2),vi=h(In),ia=m(In,2);{var na=w=>{var S=Uu(),D=Wa(S),U=h(D),N=m(D,2),F=h(N);jt(($,rt)=>{P(U,$),P(F,rt)},[()=>b("adminLogin"),()=>b("adminLogin")]),q("click",D,()=>K("admin")),q("click",N,()=>K("admin")),Zt(w,S)},jr=w=>{var S=qu(),D=Wa(S),U=h(D),N=m(D,2),F=h(N);jt(($,rt)=>{P(U,$),P(F,rt)},[()=>b("logout"),()=>b("logout")]),q("click",D,Te),q("click",N,Te),Zt(w,S)};ui(ia,w=>{y(c)?w(jr,!1):w(na)})}var zn=m(ye,2),Ji=h(zn);let Ur;var qr=h(Ji),ra=m(h(qr),2),oa=h(ra),aa=h(oa),Vr=h(aa),Xi=h(Vr),sa=m(Xi),la=h(sa),Gr=m(Vr,2),ua=h(Gr),se=m(Gr,2),B=h(se),Kr=m(h(B)),On=m(B,2),$r=m(h(On)),Bn=m(qr,2),Zn=h(Bn),Dn=h(Zn),De=h(Dn),Yr=h(De),ha=m(De,2),da=h(ha),ca=m(Dn,2),Jr=h(ca),Nn=m(h(Jr),2),fa=h(Nn),gi=m(Nn,2),pa=h(gi),Xr=m(gi,2),ma=h(Xr),Qr=m(Jr,2),to=m(h(Qr),2),Rn=h(to),Qe=m(to,2),eo=h(Qe),Fn=m(Qe,2),yi=h(Fn),et=m(Qr,2),dt=m(h(et),2),Qi=h(dt),Ne=m(dt,2),ti=h(Ne),tn=m(Ne,2),G=h(tn),gt=m(Bn,2),Hn=h(gt),bi=h(Hn),Rt=h(bi),_a=h(Rt),en=m(Rt,2),Re=h(en),Pt=m(bi,2),Le=h(Pt),xi=m(h(Le),2),wi=h(xi),nn=h(wi),ki=h(nn),Wn=m(nn,2),jn=h(Wn),Pi=m(Le,2),Un=m(h(Pi),2),qn=h(Un),Ti=h(qn),io=h(Ti),Vn=m(Ti,2),va=h(Vn),j=m(Pi,2),le=m(h(j),2),ut=h(le),Gn=h(ut),Kn=h(Gn),$n=m(Gn,2),Yn=h($n),Me=m(j,2),Jn=m(h(Me),2),Li=h(Jn),Et=h(Li),Fe=h(Et),no=m(Et,2),ro=h(no),oo=m(Me,2),ao=m(h(oo),2),Xn=h(ao),so=h(Xn),lo=h(so),Q=m(so,2),ga=h(Q),Qt=m(oo,2),Mi=m(h(Qt),2),uo=h(Mi),ho=h(uo),Qn=h(ho),ya=m(ho,2),co=h(ya),fo=m(gt,2),ba=h(fo),rn=h(ba),po=h(rn),ue=h(po),xa=m(po,2),mo=h(xa),Ee=m(rn,2),tr=h(Ee),_o=m(h(tr),2),er=h(_o),vo=m(tr,2),go=m(h(vo),2),yo=h(go),bo=m(vo,2),wa=m(h(bo),2),ir=h(wa),ka=m(bo,2),xo=m(h(ka),2),wo=h(xo),on=m(fo,2),He=h(on),Pa=h(He),ei=h(Pa),Gt=h(ei),nr=m(ei,2),ko=h(nr),Ta=m(nr,2),Ei=h(Ta),rr=m(h(Ei)),Po=m(Ei,2),La=m(h(Po)),an=m(Ji,2);let To;var te=h(an),We=h(te),Lo=m(h(We),2),he=m(h(Lo),2),or=h(he);or.value=or.__value="all";var Se=m(or);Se.value=Se.__value="native";var ar=m(Se);ar.value=ar.__value="flowering";var ii=m(ar);ii.value=ii.__value="heritage";var sr=m(Lo,2),Si=m(h(sr),2),lr=h(Si);lr.value=lr.__value="all";var de=m(lr);de.value=de.__value="0-0.5";var ni=m(de);ni.value=ni.__value="0.5-1.0";var Mo=m(ni);Mo.value=Mo.__value="1.0+";var ur=m(sr,2),Ma=h(ur),be=m(h(Ma),2),Ea=h(be),ri=m(We,2),Sa=h(ri);{var xe=w=>{var S=Vu();Zt(w,S)},sn=w=>{var S=Pu(),D=Wa(S);No(D,1,()=>y(mt),Do,(U,N)=>{var F=Gu(),$=h(F),rt=h($),pt=m($,2),yt=h(pt);jt(()=>{P(rt,y(N).name),P(yt,y(N).species)}),q("click",F,()=>{y(_).setView([y(N).lat,y(N).lng],17),y(T).eachLayer(bt=>{bt.treeId===y(N).id&&bt.openPopup()})}),q("keydown",F,bt=>{(bt.key==="Enter"||bt.key===" ")&&(bt.preventDefault(),y(_).setView([y(N).lat,y(N).lng],17),y(T).eachLayer(Ft=>{Ft.treeId===y(N).id&&Ft.openPopup()}))}),Zt(U,F)}),Zt(w,S)};ui(Sa,w=>{y(mt).length===0?w(xe):w(sn,!1)})}var hr=m(an,2);let ln;var oi=m(hr,2);let un;var hn=h(oi),ai=m(h(hn),2),dn=h(ai),dr=m(h(dn));No(dr,5,()=>y(A),Do,(w,S)=>{var D=Ku(),U=h(D),N=h(U),F=m(U),$=h(F),rt=m(F),pt=h(rt),yt=m(rt),bt=h(yt);jt(()=>{P(N,y(S).rank),P($,y(S).name),P(pt,y(S).points),P(bt,y(S).badges)}),Zt(w,D)});var cr=m(oi,2);let Eo;var Ci=m(cr,2);let So;var Co=h(Ci);{var Ca=w=>{var S=$u(),D=h(S),U=h(D),N=h(U),F=m(U,2),$=h(F),rt=h($),pt=h(rt),yt=m(rt,2),bt=m($,2),Ft=h(bt);jt((Ht,Kt,ee)=>{P(N,Ht),P(pt,Kt),P(Ft,ee)},[()=>b("adminLogin"),()=>b("adminPassword"),()=>b("login")]),Du(yt,()=>y(d),Ht=>tt(d,Ht)),q("click",bt,Ct),Zt(w,S)},Ao=w=>{var S=th(),D=h(S),U=h(D),N=h(U),F=h(N),$=m(U,2),rt=h($),pt=h(rt),yt=h(pt),bt=m(pt,2),Ft=h(bt),Ht=m(rt,2),Kt=h(Ht),ee=h(Kt),Ce=m(Kt,2),Ae=h(Ce),t=m(Ht,2),e=h(t),i=h(e),n=m(t,2),o=h(n),l=h(o),u=m($,2),f=h(u),v=h(f),x=h(v),C=h(x),Z=m(x,2),W=h(Z),xt=m(Z,2),ht=h(xt),Lt=m(u,2);{var Tt=Mt=>{var Wt=Ju(),Yt=h(Wt),ke=h(Yt),Jt=h(ke),st=h(Jt),Bt=m(Jt,2),qe=h(Bt),zi=m(Yt,2),Oi=h(zi),Ve=m(h(Oi));No(Ve,5,()=>y(k),Do,(fe,wt)=>{var Bi=Yu(),Zi=h(Bi),mr=h(Zi),Di=m(Zi),_r=h(Di),Ni=m(Di),vr=h(Ni),Ri=m(Ni),za=h(Ri),gr=m(Ri),Oa=h(gr),Ba=m(gr),Fi=h(Ba),Za=h(Fi),yr=m(Fi,2),Da=h(yr);jt((Na,Ra,ml,_l)=>{P(mr,y(wt).name),P(_r,y(wt).species),P(vr,y(wt).type),P(za,`${y(wt).girth??""}m`),P(Oa,`${Na??""}, ${Ra??""}`),P(Za,ml),P(Da,_l)},[()=>y(wt).lat.toFixed(4),()=>y(wt).lng.toFixed(4),()=>b("edit"),()=>b("delete")]),q("click",Fi,()=>kn(y(wt))),q("click",yr,()=>Ot(y(wt).id)),Zt(fe,Bi)}),jt((fe,wt)=>{P(st,fe),P(qe,`${wt??""} Tree`)},[()=>b("manageTrees"),()=>b("addNew")]),q("click",Bt,()=>kn()),Zt(Mt,Wt)};ui(Lt,Mt=>{y(a)==="admin-trees"&&Mt(Tt)})}var $t=m(Lt,2);{var Ue=Mt=>{var Wt=Qu(),Yt=h(Wt),ke=h(Yt),Jt=h(ke),st=h(Jt),Bt=m(Jt,2),qe=h(Bt),zi=m(Yt,2),Oi=h(zi),Ve=m(h(Oi));No(Ve,5,()=>y(M),Do,(fe,wt)=>{var Bi=Xu(),Zi=h(Bi),mr=h(Zi),Di=m(Zi),_r=h(Di),Ni=m(Di),vr=h(Ni),Ri=m(Ni),za=h(Ri),gr=m(Ri),Oa=h(gr),Ba=m(gr),Fi=h(Ba),Za=h(Fi),yr=m(Fi,2),Da=h(yr);jt((Na,Ra)=>{P(mr,y(wt).name),P(_r,y(wt).email),P(vr,y(wt).role),P(za,y(wt).points),P(Oa,y(wt).badges),P(Za,Na),P(Da,Ra)},[()=>b("edit"),()=>b("delete")]),q("click",Fi,()=>It(y(wt))),q("click",yr,()=>X(y(wt).id)),Zt(fe,Bi)}),jt((fe,wt)=>{P(st,fe),P(qe,`${wt??""} User`)},[()=>b("manageUsers"),()=>b("addNew")]),q("click",Bt,()=>It()),Zt(Mt,Wt)};ui($t,Mt=>{y(a)==="admin-users"&&Mt(Ue)})}jt((Mt,Wt,Yt,ke,Jt,st,Bt,qe)=>{P(F,Mt),P(yt,y(k).length),P(Ft,Wt),P(ee,y(M).length),P(Ae,Yt),P(i,ke),P(l,Jt),P(C,st),P(W,Bt),P(ht,qe)},[()=>b("adminPanel"),()=>b("totalTrees"),()=>b("totalUsers"),()=>y(k).filter(Mt=>Mt.type==="native").length,()=>y(M).filter(Mt=>Mt.role==="admin").length,()=>b("dashboard"),()=>b("manageTrees"),()=>b("manageUsers")]),q("click",x,()=>K("admin")),q("click",Z,()=>K("admin-trees")),q("click",xt,()=>K("admin-users")),Zt(w,S)};ui(Co,w=>{y(c)?w(Ao,!1):w(Ca)})}var Io=m(zn,2),ce=h(Io),Ai=h(ce),zo=m(Ai,4),Ii=m(h(zo),6),Aa=m(h(Ii),2),cn=h(Aa);cn.value=cn.__value="native";var fr=m(cn);fr.value=fr.__value="flowering";var je=m(fr);je.value=je.__value="heritage";var Oo=m(je);Oo.value=Oo.__value="other";var si=m(Ii,6),Bo=h(si),pr=m(Io,4);{var Ia=w=>{var S=eh(),D=h(S),U=h(D),N=m(U,2),F=h(N),$=m(N,2),rt=h($),pt=h(rt),yt=h(pt),bt=m(rt,2),Ft=h(bt),Ht=h(Ft),Kt=m(bt,2),ee=h(Kt),Ce=h(ee),Ae=m(Kt,2),t=h(Ae),e=h(t),i=m(t,2),n=h(i);n.value=n.__value="native";var o=m(n);o.value=o.__value="flowering";var l=m(o);l.value=l.__value="heritage";var u=m(l);u.value=u.__value="other";var f=m(Ae,2),v=h(f),x=h(v),C=m(f,2),Z=h(C),W=h(Z),xt=m(C,2),ht=h(xt),Lt=h(ht),Tt=m(ht,2),$t=h(Tt);jt((Ue,Mt,Wt,Yt,ke,Jt,st,Bt)=>{P(F,y(V)?"Edit Tree":"Add New Tree"),P(yt,`${Ue??""} *`),P(Ht,Mt),P(Ce,Wt),P(e,`${Yt??""} *`),P(x,`${ke??""} *`),P(W,`${Jt??""} *`),P(Lt,st),P($t,Bt)},[()=>b("treeName"),()=>b("treeSpecies"),()=>b("treeDescription"),()=>b("treeType"),()=>b("treeGirth"),()=>b("treeLocation"),()=>b("cancel"),()=>b("save")]),q("click",U,R),q("click",ht,R),q("submit",$,Va(ft)),Zt(w,S)};ui(pr,w=>{y(E)&&w(Ia)})}var we=m(pr,2);{var Zo=w=>{var S=ih(),D=h(S),U=h(D),N=m(U,2),F=h(N),$=m(N,2),rt=h($),pt=h(rt),yt=h(pt),bt=m(rt,2),Ft=h(bt),Ht=h(Ft),Kt=m(bt,2),ee=h(Kt),Ce=h(ee),Ae=m(ee,2),t=h(Ae);t.value=t.__value="user";var e=m(t);e.value=e.__value="moderator";var i=m(e);i.value=i.__value="admin";var n=m(Kt,2),o=h(n),l=h(o),u=m(n,2),f=h(u),v=h(f),x=m(u,2),C=h(x),Z=h(C),W=m(C,2),xt=h(W);jt((ht,Lt,Tt,$t,Ue,Mt,Wt)=>{P(F,y(lt)?"Edit User":"Add New User"),P(yt,`${ht??""} *`),P(Ht,`${Lt??""} *`),P(Ce,`${Tt??""} *`),P(l,$t),P(v,Ue),P(Z,Mt),P(xt,Wt)},[()=>b("userName"),()=>b("userEmail"),()=>b("userRole"),()=>b("userPoints"),()=>b("userBadges"),()=>b("cancel"),()=>b("save")]),q("click",U,vt),q("click",C,vt),q("submit",$,Va(at)),Zt(w,S)};ui(we,w=>{y(z)&&w(Zo)})}jt((w,S,D,U,N,F,$,rt,pt,yt,bt,Ft,Ht,Kt,ee,Ce,Ae,t,e,i,n,o,l,u,f,v,x,C,Z,W,xt,ht,Lt,Tt,$t,Ue,Mt,Wt,Yt,ke,Jt,st,Bt,qe,zi,Oi,Ve,fe,wt,Bi,Zi,mr,Di,_r,Ni,vr,Ri)=>{Br=pe(pi,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,Br,w),Tn=pe(mi,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,Tn,S),P(Ln,D),Zr=pe(Ze,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,Zr,U),P(Dr,N),Mn=pe(Xe,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,Mn,F),P(Nr,$),Rr=pe($i,1,"font-medium text-nparks-mint hover:text-white transition-colors svelte-1gh6bhy",null,Rr,rt),P(En,pt),P(Wr,yt),P(vi,bt),Ur=pe(Ji,1,"view w-full overflow-y-auto",null,Ur,Ft),P(Xi,`${Ht??""} `),P(la,Kt),P(ua,ee),P(Kr,` ${Ce??""}`),P($r,` ${Ae??""}`),P(Yr,t),P(da,e),P(fa,i),P(pa,n),P(ma,o),P(Rn,l),P(eo,u),P(yi,f),P(Qi,v),P(ti,x),P(G,C),P(_a,Z),P(Re,W),P(ki,xt),P(jn,ht),P(io,Lt),P(va,Tt),P(Kn,$t),P(Yn,Ue),P(Fe,Mt),P(ro,Wt),P(lo,Yt),P(ga,ke),P(Qn,Jt),P(co,st),P(ue,Bt),P(mo,qe),P(er,zi),P(yo,Oi),P(ir,Ve),P(wo,fe),P(Gt,wt),P(ko,Bi),P(rr,` ${Zi??""}`),P(La,` ${mr??""}`),To=pe(an,1,"view flex-1 flex flex-col md:flex-row",null,To,Di),P(Ea,y(mt).length),ln=pe(hr,1,"view w-full p-4 md:p-8 overflow-y-auto custom-scrollbar bg-nparks-cream svelte-1gh6bhy",null,ln,_r),un=pe(oi,1,"view w-full p-4 md:p-8 overflow-y-auto custom-scrollbar bg-nparks-cream svelte-1gh6bhy",null,un,Ni),Eo=pe(cr,1,"view w-full p-4 md:p-8 overflow-y-auto custom-scrollbar bg-nparks-cream svelte-1gh6bhy",null,Eo,vr),So=pe(Ci,1,"view w-full overflow-y-auto bg-nparks-cream",null,So,Ri)},[()=>({selected:y(a)==="landing"}),()=>({selected:y(a)==="map"}),()=>b("navMap"),()=>({selected:y(a)==="learn"}),()=>b("navLearn"),()=>({selected:y(a)==="community"}),()=>b("navCommunity"),()=>({selected:y(a)==="about"}),()=>b("navAbout"),()=>b("addTree"),()=>b("addTree"),()=>({hidden:y(a)!=="landing"}),()=>b("heroTitle"),()=>b("heroSubtitle"),()=>b("heroDescription"),()=>b("exploreMap"),()=>b("learnAboutTrees"),()=>b("featuresTitle"),()=>b("featuresDescription"),()=>b("feature1Title"),()=>b("feature1Description"),()=>b("startExploring"),()=>b("feature2Title"),()=>b("feature2Description"),()=>b("submitTree"),()=>b("feature3Title"),()=>b("feature3Description"),()=>b("startLearning"),()=>b("galleryTitle"),()=>b("galleryDescription"),()=>b("galleryItem1"),()=>b("galleryItem1Desc"),()=>b("galleryItem2"),()=>b("galleryItem2Desc"),()=>b("galleryItem3"),()=>b("galleryItem3Desc"),()=>b("galleryItem4"),()=>b("galleryItem4Desc"),()=>b("galleryItem5"),()=>b("galleryItem5Desc"),()=>b("galleryItem6"),()=>b("galleryItem6Desc"),()=>b("statsTitle"),()=>b("statsDescription"),()=>b("treesMapped"),()=>b("communityMembers"),()=>b("treeSpecies"),()=>b("neighborhoods"),()=>b("ctaTitle"),()=>b("ctaDescription"),()=>b("startExploringNow"),()=>b("joinCommunity"),()=>({hidden:y(a)!=="map"}),()=>({hidden:y(a)!=="learn"}),()=>({hidden:y(a)!=="community"}),()=>({hidden:y(a)!=="about"}),()=>({hidden:y(a)!=="admin"})]),q("click",Ki,()=>K("landing")),q("click",pi,()=>K("landing")),q("click",mi,()=>K("map")),q("click",Ze,()=>K("learn")),q("click",Xe,()=>K("community")),q("click",$i,()=>K("about")),Zu(Yi,()=>y(p),w=>tt(p,w)),q("change",Yi,w=>_t(w.target.value)),q("click",_i,At),q("click",In,At),q("click",B,()=>K("map")),q("click",On,()=>K("learn")),q("click",Xr,()=>K("map")),q("click",Fn,()=>{K("map"),setTimeout(()=>At(),100)}),q("click",tn,()=>K("learn")),q("click",Ei,()=>K("map")),q("click",Po,()=>K("community")),q("change",he,oe),q("change",Si,oe),q("click",Ai,ge),q("click",Bo,ge),q("submit",zo,Va(Gi)),Zt(r,ae),Zs()}Mu(rh,{target:document.getElementById("app")});</script>
  <style rel="stylesheet" crossorigin>.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:#ffffff80}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:#fffc;margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:#fffc;text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}.custom-scrollbar.svelte-1gh6bhy::-webkit-scrollbar{width:6px}.custom-scrollbar.svelte-1gh6bhy::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.custom-scrollbar.svelte-1gh6bhy::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.custom-scrollbar.svelte-1gh6bhy::-webkit-scrollbar-thumb:hover{background:#555}button.selected.svelte-1gh6bhy{color:#fff!important;border-bottom:2px solid #C8E6C9}</style>
</head>
<body>
    <div id="app"></div>

</body>
</html>


